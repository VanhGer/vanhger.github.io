<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-07-24T11:18:35+07:00</updated><id>http://localhost:4000/feed.xml</id><entry><title type="html">Solidity vÃ  State Trie</title><link href="http://localhost:4000/blog/2023/07/23/solidity-va-state-trie" rel="alternate" type="text/html" title="Solidity vÃ  State Trie" /><published>2023-07-24T00:00:00+07:00</published><updated>2023-07-24T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/23/solidity-va-state-trie</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/23/solidity-va-state-trie"><![CDATA[<p>á» bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ giá»›i thiá»‡u vá» Solidity vÃ  World State Trie</p>

<h2 id="solidity">Solidity</h2>
<p>Solidity lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh cho Blockchain Ethereum, lÃ  ngÃ´n ngá»¯ hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng, cáº¥p cao Ä‘á»ƒ triá»ƒn khai cÃ¡c smartcontracts. Smartcontract lÃ  chÆ°Æ¡ng trÃ¬nh chi phá»‘i cÃ¡c hÃ nh vi cá»§a Account trong Ethereum State. Account contract Ä‘Æ°á»£c táº¡o ra khi cháº¡y má»™t smartcontract. Má»i ngÆ°á»i cÃ³ thá»ƒ Ä‘á»c account contract state á»Ÿ trong storage array, nÃªn khÃ´ng bao giá» Ä‘Æ°á»£c lÆ°u trá»¯ cÃ¡c bÃ­ máº­t trong contract.</p>

<p>Má»™t sá»‘ dáº¡ng biáº¿n cá»§a Solidity nhÆ°: uint256, address(byte 32), bool,â€¦ CÃ¡c loáº¡i tham chiáº¿u lÃ  máº£ng, struct, string, map,â€¦ Khi má»™t giao dá»‹ch Ä‘i tá»« A â‡¾ B â‡¾ C â‡¾ D thÃ¬ táº¡i D, msg.sender lÃ  C, nhÆ°ng tx.origin lÃ  A.</p>

<p>ERC20 lÃ  API tiÃªu chuáº©n cho fungible token, cung cáº¥p cÃ¡c chá»©c nÄƒng cÆ¡ báº£n Ä‘á»ƒ chuyá»ƒn token hoáº·c cho phÃ©p token Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi bÃªn thá»© 3.</p>

<p>CÃ¡c kiá»ƒu lÆ°u trá»¯:</p>
<ul>
  <li>Stack variables: Ráº» Ä‘á»ƒ sá»­ dá»¥ng, phÃ¹ há»£p vá»›i má»i loáº¡i dá»¯ liá»‡u (khÃ´ng qua 32 bytes)</li>
  <li>Calldata: LÃ  1 máº£ng byte chá»‰ Ä‘á»c, tá»‘n gas</li>
  <li>Memory: 1 byte máº£ng, ráº», nhÆ°ng chi phÃ­ tÄƒng theo cáº¥p sá»‘ nhÃ¢n, lÆ°u Ä‘Æ°á»£c dá»¯ liá»‡u &gt; 32 bytes</li>
  <li>Storage: Äáº¯t, mappings vÃ  cÃ¡c biáº¿n state lÆ°u trong nÃ y.</li>
  <li>Event logs: ráº», khÃ´ng cáº§n truy cáº­p Ä‘áº¿n contract.</li>
</ul>

<p>á» trÃªn lÃ  má»™t sá»‘ hiá»ƒu biáº¿t cá»§a mÃ¬nh vá» solidity, vá» máº·t coding, má»i ngÆ°á»i nÃªn xem á»Ÿ <a href="https://docs.soliditylang.org/en/latest/">Ä‘Ã¢y</a>.</p>

<h2 id="state-trie-ethereum-state-trie">State trie (Ethereum state trie)</h2>
<p>HÃ¬nh áº£nh Ä‘Ã¢y lÃ  cáº¥u trÃºc Ä‘Æ°á»£c táº¡o bá»Ÿi cÃ¡c loáº¡i State trong Ethereum: (á»Ÿ gÃ³c pháº£i dÆ°á»›i hÃ¬nh áº£nh)</p>

<p><img src="https://i.stack.imgur.com/afWDt.jpg" width="900" height=" 600" /></p>

<p>CÃ³ 3 loáº¡i state chÃ­nh lÃ  World state, Transaction, vÃ  Transaction Receipt.</p>

<h3 id="world-state-trie">World State Trie</h3>
<p>World State Trie LÃ  mapping giá»¯a Ä‘á»‹a chá»‰ vÃ  Account State. NÃ³ Ä‘Æ°á»£c update bá»Ÿi cÃ¡c Tx, vÃ  lÆ°u trá»¯ má»i thÃ´ng tin vá» accounts vÃ  cÃ³ thá»ƒ láº¥y Ä‘Æ°á»£c qua cÃ¡c truy váº¥n.
Trong World State Trie cÃ³ Account Storage Trie, nÆ¡i cÃ¡c dá»¯ liá»‡u liÃªn káº¿t vá»›i account Ä‘Æ°á»£c lÆ°u trá»¯. NÃ³ chá»‰ liÃªn quan Ä‘áº¿n cÃ¡c contract account vÃ  má»i dá»¯ liá»‡u Ä‘Æ°á»£c Ã¡nh xáº¡ giá»¯a cÃ¡c sá»‘ nguyÃªn 32 byte.</p>

<p>Account State lÃ  cÃ¡c thÃ´ng tin vá» má»™t Ethereum account, nhÆ° balance, nonce, storage Root, codehash,â€¦ vÃ  lÃ  lÃ¡ cá»§a World State Trie.</p>

<h3 id="transaction-trie">Transaction Trie</h3>
<p>Transaction Trie lÆ°u trá»¯ cÃ¡c Tx trong Ethereum. Khi cÃ¡c Tx lÆ°u trá»¯ trong block, nÃ³ khÃ´ng thá»ƒ bá»‹ thay Ä‘á»•i. NÃ³ Ä‘Æ°á»£c xÃ¢y dá»±ng theo cáº¥u trÃºc Modified Merkel Patricia Trie, vÃ  chá»‰ cÃ³ node root má»›i Ä‘Æ°á»£c Ä‘Æ°a vÃ o trong block.</p>

<h3 id="transaction-receipt-triereceipt-trie">Transaction Receipt Trie(Receipt Trie)</h3>
<p>Transaction Receipt Trie lÆ°u trá»¯ Ä‘áº§u ra cá»§a cÃ¡c Txs. Äáº§u ra lÃ  káº¿t quáº£ cá»§a má»™t Tx mÃ  Ä‘Æ°á»£c cháº¡y thÃ nh cÃ´ng, bao gá»“m H(Txs), block number, gas Used, Ä‘á»‹a chá»‰ cá»§a contract.</p>

<h3 id="vÃ­-dá»¥-cáº¥u-trÃºc-cá»§a-world-state-má»™t-cÃ¡ch-Ä‘Æ¡n-giáº£n">VÃ­ dá»¥ cáº¥u trÃºc cá»§a World State (má»™t cÃ¡ch Ä‘Æ¡n giáº£n)</h3>
<p>Äá»ƒ Ä‘Æ¡n giáº£n, ta giáº£ sá»­ cÃ¡c node lÃ¡ cá»§a World State Trie chá»‰ bao gá»“m Ä‘á»‹a chá»‰ lÃ  sá»‘ dÆ° theo cáº·p Key - Value. 
CÃ¡c loáº¡i thÃ´ng tin:</p>
<ul>
  <li>Leaf Node: node lÃ¡ cá»§a cÃ¢y, chá»©a cÃ¡c tráº¡ng thÃ¡i cá»§a 1 tÃ i khoáº£n cÃ³ Ä‘á»‹a chá»‰ lÃ  Key</li>
  <li>Branch Node: gá»“m 16 Ã´, lÃ  cÃ¡c tiá»n tá»‘ cá»§a Key.</li>
  <li>Extension Node: node chá»‰ cÃ³ 1 child</li>
  <li>Nibble: LÃ  pháº§n chung trong Key, 1 Nibble = 4 bits, lÆ°u trong keyend hoáº·c shared nibble.</li>
  <li>Prefixes:
    <ul>
      <li>0: extension node cÃ³ sá»‘ cháºµn Nibble</li>
      <li>1: extension node cÃ³ sá»‘ láº» Niblle</li>
      <li>2: leaf node, cÃ³ sá»‘ cháºµn Nibble</li>
      <li>3: leaf node, cÃ³ sá»‘ láº» Nibble.</li>
    </ul>
  </li>
</ul>

<p>Minh Hoáº¡:
World State Trie vá»›i 4 cáº·p Key - Value nhÆ° sau:</p>
<ul>
  <li>a711355: 45 ETH</li>
  <li>a77d337: 1 WEI</li>
  <li>a7f9365: 1.1 ETH</li>
  <li>a77d397: 0.12 ETH
<img src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiSYWqaPcJtBlnFR4VAaug.png" /></li>
</ul>

<h2 id="kÃªt-luáº­n">KÃªt luáº­n</h2>
<p>á» trÃªn lÃ  má»™t sá»‘ khÃ¡i niá»‡m sÆ¡ bá»™ vá» Solidity vÃ  cáº¥u trÃºc cá»§a Ethereum, cá»¥ thá»ƒ vá» cÃ¡c State Trie.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[á» bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ giá»›i thiá»‡u vá» Solidity vÃ  World State Trie]]></summary></entry><entry><title type="html">CÆ¡ cháº¿ Ethereum</title><link href="http://localhost:4000/blog/2023/07/23/ethereum-mechanics" rel="alternate" type="text/html" title="CÆ¡ cháº¿ Ethereum" /><published>2023-07-23T00:00:00+07:00</published><updated>2023-07-23T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/23/ethereum-mechanics</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/23/ethereum-mechanics"><![CDATA[<p>Máº·c dÃ¹ bitcoin Ä‘Æ°á»£c ra Ä‘á»i tá»« ráº¥t sá»›m vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng cho Ä‘áº¿n hiá»‡n táº¡i, nÃ³ váº«n chá»©a nhiá»u nhÆ°á»£c Ä‘iá»ƒm. Pháº§n chÃ­nh lÃ  cÃ¡c ScriptPk cá»§a UTXO khÃ´ng thá»ƒ thá»±c hiá»‡n cÃ¡c quy táº¯c phá»©c táº¡p vá» tÃ i sáº£n. VÃ­ dá»¥ khi muá»‘n Ä‘Æ°a ra giá»›i háº¡n lÆ°á»£ng BTC sá»­ dá»¥ng trong 1 ngÃ y lÃ  2BTC, khÃ´ng thá»ƒ lÃ m vá»›i UTXO Script Ä‘Æ°á»£c. Do Ä‘Ã³, Ethereum ra Ä‘á»i vá»›i nhiá»u Æ°u Ä‘iá»ƒm vÆ°á»£t trá»™i</p>

<h3 id="so-sÃ¡nh-chung">So sÃ¡nh chung</h3>
<p>Bitcoin nhÆ° má»™t mÃ¡y chuyá»ƒn tráº¡ng thÃ¡i. Bitcoin rule: S x I â‡¾ S, vá»›i táº­p S lÃ  cÃ¡c tráº¡ng thÃ¡i, I lÃ  táº­p táº¥t cáº£ cÃ¡c input. CÃ²n vá»›i Ethereum, hÃ m chuyá»ƒn tráº¡ng thÃ¡i cá»§a nÃ³ sáº½ phong phÃº hÆ¡n nhiá»u, vÃ  má»—i láº§n chuyá»ƒn Ä‘á»•i thÃ¬ sáº½ thá»±c hiá»‡n toÃ n bá»™ chÆ°Æ¡ng trÃ¬nh.</p>

<p>Ethereum há»— trá»£ cÃ¡c DApp, vá»›i Program code Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn blockchain, khi cháº¡y cÅ©ng sáº½ thay Ä‘á»•i cÃ¡c tráº¡ng thÃ¡i. CÃ¡c block thÃ¬ sáº½ cÃ³ khoáº£ng 150 Tx, vÃ  cÃ¡c Block Proposer sáº½ nháº­n Tx fee cho block vÃ  cÃ¡c pháº§n thÆ°á»Ÿng khÃ¡c khi táº¡o khá»‘i thÃ nh cÃ´ng.</p>

<p>NgoÃ i ra, ta Ä‘Ã£ biáº¿t ráº±ng khi cÃ¡c block Ä‘Æ°á»£c proposer trong consensus layer (cÃ¡c beacon block, nÃªn cÃ²n Ä‘Æ°á»£c gá»i lÃ  beacon chain), cÃ¡c node gá»­i cÃ¡c Tx lÃªn cho execution client hay cÃ²n gá»i lÃ  compute layer Ä‘á»ƒ cáº­p nháº­p cÃ¡c tráº¡ng thÃ¡i (update world state).</p>
<h2 id="compute-layer">Compute layer</h2>
<p>World state: táº­p há»£p cÃ¡c tÃ i khoáº£n Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi cÃ¡c Ä‘á»‹a chá»‰ 32 byte (CÃ¡c thÃ´ng tin nhÆ° Ä‘á»‹a chá»‰, sá»‘ dÆ°,..)</p>

<p>CÃ³ 2 loáº¡i tÃ i khoáº£n:</p>
<ul>
  <li>Owned account: Äiá»u khiá»ƒn bá»Ÿi cÃ¡c cáº·p (Pk, Sk), hay lÃ  tÃ i khoáº£n cá»§a ngÆ°á»i dÃ¹ng.</li>
  <li>Contracts: Äiá»u khiá»ƒn bá»Ÿi code, Ä‘Æ°á»£c táº¡o lÃºc tÃ i khoáº£n Ä‘Æ°á»£c táº¡o, khÃ´ng thá»ƒ thay Ä‘á»•i.</li>
</ul>

<p>CÃ¡c dá»¯ liá»‡u cáº§n thiáº¿t vá»›i má»—i account:
| Account Data  | Owned   | Contracts                   |
|â€”â€”â€”â€”â€”|â€”â€”â€”|â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“|
| address(tÃ­nh) | H(Pk)   | H(CreatorAdd, CreatorNonce) |
| storage root  | KhÃ´ng   | StorageRoot                 |
| code          | khÃ´ng   | CodeHash                    |
| balance       | balance | balance                     |
| nonce         | nonce   | nonce                       |</p>

<p>Trong Ä‘Ã³, nonce lÃ  sá»‘ Tx mÃ  acount Ä‘Ã£ thá»±c hÃ nh, tÃ­nh báº±ng (#Tx sent) + (#accounts created). Sá»‘ nonce Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ chá»‘ng replay vÃ  khi táº¡o má»›i thÃ¬ luÃ´n báº±ng 0 (vá»›i contract).  CÃ¡c contract cÃ³ thá»ƒ bá»‹ ghi Ä‘Ã¨ code, nhÆ°ng chá»‰ khi contract cÅ© Ä‘Ã£ SELFDESTRUCT.</p>

<p>Má»—i contract cÃ³ 1 máº£ng lÆ°u trá»¯ liÃªn quan gá»“m 2^256 pháº§n tá»­, má»—i pháº§n tá»­ lÃ  32 bytes. VÃ  storage root lÃ  Merkle Patricia hash cá»§a máº£ng.</p>

<h3 id="chuyá»ƒn-tráº¡ng-thÃ¡i">Chuyá»ƒn tráº¡ng thÃ¡i</h3>
<h4 id="tx">Tx</h4>
<ul>
  <li>ÄÆ°á»£c kÃ­ bá»Ÿi ngÆ°á»i táº¡o.</li>
  <li>To: náº¿u = 0 lÃ  táº¡o account má»›i, code = (init, body). CÃ²n láº¡i lÃ  32-bytes Ä‘á»‹a chá»‰ vÃ  data (nhá»¯ng thá»© mÃ  contract gá»i vÃ  cÃ¡c Ä‘á»‘i sá»‘).</li>
  <li>From: Äá»‹a chá»‰ khá»Ÿi táº¡o vÃ  chá»¯ kÃ­ vÃ o Tx</li>
  <li>Value: sá»‘ Ethereum Ä‘Æ°á»£c gá»­i.</li>
  <li>Tx fees: gasLimit, maxFee, maxPriorityFee (Sáº½ nÃ³i rÃµ hÆ¡n á»Ÿ pháº§n sau).</li>
  <li>Nonce: Khá»›p vá»›i nonce hiá»‡n táº¡i cá»§a ngÆ°á»i gá»­i, trÃ¡nh viá»‡c replay Tx.</li>
  <li>Chain-id: Ä‘áº£m báº£o giao dá»‹ch gá»­i Ä‘Ãºng chuá»—i (khÃ´ng thá»ƒ dÃ¹ng giao dá»‹ch testnet lÃªn mainnet).</li>
</ul>

<h4 id="cÃ¡c-loáº¡i-tx">CÃ¡c loáº¡i Tx</h4>
<ul>
  <li>owned â‡¾ owned: chuyá»ƒn ETH giá»¯a cÃ¡c user</li>
  <li>owned â‡¾ contract: gá»i contract vá»›i ETH &amp; data</li>
</ul>

<h4 id="messages">Messages</h4>
<p>LÃ  cÃ¡c Tx áº£o Ä‘Æ°á»£c contract táº¡o ra, nÃ³ khÃ´ng cÃ³ Signature (vÃ¬ contract khÃ´ng cÃ³). CÃ³ 2 loáº¡i lÃ :</p>
<ul>
  <li>contract â‡¾ onwed: contract gá»­i tiá»n cho user</li>
  <li>contract â‡¾ contract: contract gá»i contract khÃ¡c.</li>
</ul>

<h3 id="ethereum-block">Ethereum block</h3>
<p>KhÃ¡c vá»›i Block cá»§a Bitcoin, Block Header cá»§a Ethereum cÃ³ nhiá»u loáº¡i dá»¯ liá»‡u hÆ¡n, má»™t sá»‘ chÃ­nh nhÆ°:</p>
<ul>
  <li>Consensus data: cÃ¡c dá»¯ liá»‡u nhÆ° Proposer Id, Previous hash, vote,â€¦</li>
  <li>Address: NÆ¡i mÃ  gas fee Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n</li>
  <li>World state root: Merkle Patricia Tree Hash cá»§a táº¥t cáº£ cÃ¡c tÃ i khoáº£n</li>
  <li>Tx root: Merkle Tree Hash cá»§a Tx</li>
  <li>Tx receipt root: Merkle Hash cá»§a cÃ¡c log message</li>
  <li>Gas used: Sá»­ dá»¥ng Ä‘á»ƒ Ä‘iá»u chá»‰nh giÃ¡ gas (á»Ÿ pháº§n sau).</li>
</ul>

<h3 id="evm-mechanics">EVM mechanics</h3>
<p>EVM lÃ  mÃ´i trÆ°á»ng thá»±c thi (execution). CÃ¡c contract Ä‘Æ°á»£c viáº¿t báº±ng solidity, sau Ä‘Ã³ sáº½ Ä‘Æ°á»£c compile thÃ nh EVM bytecode vÃ  Ä‘Æ°á»£c cÃ¡c validator sá»­ dá»¥ng Ä‘á»ƒ cháº¡y cÃ¡c contract. <br />
EVM hoáº¡t Ä‘á»™ng nhÆ° má»™t [Stack Machine] (https://en.wikipedia.org/wiki/Stack_machine) vá»›i lá»‡nh JUMP (CÃ¡c program sáº½ bá»‹ huá»· náº¿u quÃ¡ stack, proposer giá»¯ láº¡i gas).</p>

<h3 id="gas">Gas</h3>
<p>Gas Ä‘Æ°á»£c xem nhÆ° lÃ  nguyÃªn liá»‡u cá»§a Ethereum, lÃ  khoáº£n phÃ­ cáº§n tráº£ Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c giao dá»‹ch hay hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tÃ¡c vá»›i smartcontract. Má»i chá»‰ thá»‹ Ä‘á»u tá»‘n gas, giÃºp ngÄƒn viá»‡c gá»­i Tx cÃ³ nhiá»u bÆ°á»›c (tá»‘n nhiá»u tiá»n hÆ¡n). CÃ¡c Proposer cÃ³ thá»ƒ chá»n cÃ¡c Tx tá»« mempool cÃ³ phÃ­ gas cao Ä‘á»ƒ tá»‘i Ä‘a hoÃ¡ thu nháº­p.</p>

<h4 id="gas-calculation">Gas calculation:</h4>
<p>Má»—i block cÃ³:</p>
<ul>
  <li>baseFee: gasPrice nhá» nháº¥t cho táº¥t cáº£ Tx trong block. BaseFee dá»±a vÃ o tá»•ng sá»‘ gas á»Ÿ block trÆ°á»›c (Gas used á»Ÿ header), náº¿u gasUsed lÃ  giá»›i háº¡n (30M) thÃ¬ baseFee tÄƒng 12.5%, náº¿u block trÆ°á»›c trá»‘ng thÃ¬ giáº£m 12.5%. CÃ²n láº¡i thÃ¬ giá»¯ nguyÃªn.</li>
  <li>gasLimit: tá»•ng gas cho phÃ©p vá»›i Tx</li>
  <li>maxFee: giÃ¡ gas tá»‘i Ä‘a cho phÃ©p</li>
  <li>maxPriorityFee: â€˜tipsâ€™ tá»‘i Ä‘a cho Proposer.</li>
</ul>

<p>GasPrice = min(maxFee, baseFee + maxPriorityFee) <br />
MaxTxFee = gasLimit x gasPice <br />
<strong> Cá»¥ thá»ƒ </strong></p>
<ul>
  <li>náº¿u gasPrice &lt; baseFee: dá»«ng</li>
  <li>náº¿u MaxTxFee &gt; sender.balance: dá»«ng</li>
  <li>trá»« MaxTxFee khá»i sender.balance</li>
  <li>Äáº·t Gas = gasLimit</li>
  <li>Cháº¡y Tx, trá»« gas tá»« Gas vá»›i má»—i Tx. Náº¿u Gas &lt; 0 thÃ¬ dá»«ng, Proposer giá»¯ gasLimit * gasPrice.</li>
  <li>Xong xuÃ´i, tráº£ láº¡i Gas x gasPrice cho sender</li>
  <li>gasUsed = gasLimit - Gas. BURN gasUsed x baseFee vÃ  gá»­i gasUsed x (GasPrice - baseFee) cho block proposer.</li>
</ul>

<p>ETH bá»‹ BURN vÃ¬ giÃºp giáº£m láº¡m phÃ¡t, tÄƒng tÃ­nh khan hiáº¿m, cÃ³ lá»£i cho nhÃ  Ä‘áº§u tÆ°, cháº·n cÃ¡c proposer táº¡o ra cÃ¡c Tx giáº£, khÃ´ng khuyáº¿n khÃ­ch cÃ¡c thoáº£ thuáº­n ngoÃ i chuá»—i.</p>

<h2 id="káº¿t-luáº­n">Káº¿t luáº­n</h2>
<p>á» trÃªn lÃ  toÃ n bá»™ hiá»ƒu biáº¿t cá»§a mÃ¬nh vá» cÆ¡ cháº¿ Ethereum.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[Máº·c dÃ¹ bitcoin Ä‘Æ°á»£c ra Ä‘á»i tá»« ráº¥t sá»›m vÃ  Ä‘Æ°á»£c sá»­ dá»¥ng cho Ä‘áº¿n hiá»‡n táº¡i, nÃ³ váº«n chá»©a nhiá»u nhÆ°á»£c Ä‘iá»ƒm. Pháº§n chÃ­nh lÃ  cÃ¡c ScriptPk cá»§a UTXO khÃ´ng thá»ƒ thá»±c hiá»‡n cÃ¡c quy táº¯c phá»©c táº¡p vá» tÃ i sáº£n. VÃ­ dá»¥ khi muá»‘n Ä‘Æ°a ra giá»›i háº¡n lÆ°á»£ng BTC sá»­ dá»¥ng trong 1 ngÃ y lÃ  2BTC, khÃ´ng thá»ƒ lÃ m vá»›i UTXO Script Ä‘Æ°á»£c. Do Ä‘Ã³, Ethereum ra Ä‘á»i vá»›i nhiá»u Æ°u Ä‘iá»ƒm vÆ°á»£t trá»™i]]></summary></entry><entry><title type="html">Proof Of Stake</title><link href="http://localhost:4000/blog/2023/07/23/proof-of-stake" rel="alternate" type="text/html" title="Proof Of Stake" /><published>2023-07-23T00:00:00+07:00</published><updated>2023-07-23T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/23/proof-of-stake</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/23/proof-of-stake"><![CDATA[<p>á» bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ giá»›i thiá»‡u má»™t cÆ¡ cháº¿ Ä‘á»“ng thuáº­n Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t nhiá»u trong cÃ¡c blockchain hiá»‡n nay, Ä‘Ã³ lÃ  Proof of Stake.</p>

<h3 id="accountable-safety">Accountable Safety</h3>
<p>Má»™t giao thá»©c vá»›i resilence lÃ  n/3 khi giao thá»©c Ä‘Ã³ an toÃ n náº¿u nÃ³ cÃ³ Ã­t hÆ¡n n/3 Adverserial node (VÃ­ dá»¥ streamlet). <br />
Má»™t giao thá»©c vá»›i Accountable Safety resilence n/3 lÃ  giao thá»©c:</p>
<ul>
  <li>An toÃ n náº¿u Ã­t hÆ¡n Adverserial node.</li>
  <li>Náº¿u vi pháº¡m safety, thÃ¬ nhá»¯ng ngÆ°á»i giÃ¡m sÃ¡t (cÃ¡c node khÃ´ng pháº£i ngÆ°á»i Ä‘Æ°á»£c chá»n Ä‘á»ƒ Ä‘á» xuáº¥t khá»‘i) cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh rÃµ cÃ¡c node vi pháº¡m.</li>
  <li>KhÃ´ng cÃ³ cÃ¡o buá»™c sai vá»›i cÃ¡c node trung thá»±c.</li>
</ul>

<h3 id="finality-vÃ -dynamic-availability">Finality vÃ  Dynamic availability</h3>
<p>Gá»i má»™t giao thá»©c lÃ  finality náº¿u nÃ³ duy trÃ¬ safety trong thá»i gian khÃ´ng Ä‘á»“ng bá»™ (trÆ°á»›c GST). á» cÃ¡c giao thá»©c nÃ y, Tx Ä‘Æ°á»£c finalize nhanh hÆ¡n confirm trong bitcoin (60 phÃºt). <br />
Gá»i má»™t giao thá»©c lÃ  Dynamic availability náº¿u giao thá»©c Ä‘Ã³ cÃ³ thá»ƒ tiáº¿p tá»¥c confirm cÃ¡c giao dá»‹ch ngay cáº£ khi nhiá»u node offline.</p>

<p>KhÃ´ng cÃ³ giao thá»©c SMR nÃ o Ä‘áº£m báº£o cung cáº¥p cáº£ 2. Do Ä‘Ã³, má»™t cÃ¡ch giáº£i quyáº¿t lÃ  sá»­ dá»¥ng Nested chains.</p>

<h3 id="nested-chains">Nested chains</h3>
<ul>
  <li>Available chain Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi giao thá»©c Î _ava, thoáº£ mÃ£n Dynamic availability (VD: Nakamoto consensus).</li>
  <li>Finalized chain Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi giao thá»©c checkpoint Î _fin thoáº£ mÃ£n security dÆ°á»›i máº¡ng Ä‘á»“ng bá»™ 1 pháº§n.</li>
  <li>Chuá»—i confirm bá»Ÿi Î _ava lÃ  available chain.</li>
  <li>Î _fin kiá»ƒm tra cÃ¡c block trong availbale chain.</li>
  <li>Tiá»n tá»‘ cá»§a checkpoint cuá»‘i cÃ¹ng táº¡o thÃ nh finalized chain. TÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i Finalized chain lÃ  prefix cá»§a available. Chuá»—i nÃ y safe dÆ°á»›i máº¡ng báº¥t Ä‘á»“ng bá»™</li>
  <li>CÃ¡c block cá»§a available chain luÃ´n extend tá»« Ä‘iá»ƒm checkpoint cuá»‘i cÃ¹ng.</li>
</ul>

<p>Minh hoáº¡: hÃ¬nh áº£nh</p>

<h2 id="proof-of-stake">Proof of Stake</h2>
<h3 id="tá»•ng-quan">Tá»•ng quan:</h3>
<ul>
  <li>Trong giao thá»©c Pos, cÃ¡c nodes khoÃ¡ (Stake) tiá»n cá»§a há» trong giao thá»©c Ä‘á»ƒ Ä‘á»§ Ä‘iá»u kiá»‡n tham gia consensus.</li>
  <li>CÃ ng nhiá»u coin Ä‘Æ°á»£c stake bá»Ÿi 1 node thÃ¬ kháº£ nÄƒng cao node Ä‘Ã³ Ä‘Æ°á»£c chá»n lÃ m validator. VÃ¬ thuáº­t toÃ¡n lá»±a chá»n validator lÃ  giáº£ ngáº«u nhiÃªn.</li>
  <li>Náº¿u node bá»‹ báº¯t quáº£ tang thá»±c hiá»‡n 1 hÃ nh Ä‘á»™ng báº¥t lá»£i (xÃ¡c thá»±c giao dá»‹ch sai) thÃ¬ node Ä‘Ã³ sáº½ bá»‹ burn sá»‘ tiá»n Ä‘Ã£ stake vÃ  khÃ´ng thá»ƒ tham gia vÃ o quÃ¡ trÃ¬nh Ä‘á» xuáº¥t khá»‘i tiáº¿p theo. (Slashing).</li>
</ul>

<p>Do Ä‘Ã³, trong PoS, nodes sáº½ cÃ³ trÃ¡ch nhiá»‡m trong cÃ¡ch hÃ nh Ä‘á»™ng cá»§a mÃ¬nh. PoS giÃºp thay Ä‘á»•i cÆ¡ cháº¿ block Ä‘Æ°á»£c verify. NgoÃ i ra, Ä‘á»ƒ trá»Ÿ thÃ nh validator, cÃ¡c node pháº£i cÃ³ Ä‘iá»u kiá»‡n (vÃ­ dá»¥: cÃ³ Ã­t nháº¥t 32 ETH,..), sau khi Ä‘Ã³ng 1 khá»‘i, khá»‘i Ä‘Ã³ sáº½ Ä‘Æ°á»£c cÃ¡c validator khÃ¡c validate theo nhiá»u method khÃ¡c nhau tuá»³ vÃ o blockchain.</p>

<h3 id="cá»¥-thá»ƒ-vá»›i-ethereum-20">Cá»¥ thá»ƒ vá»›i Ethereum 2.0</h3>

<h4 id="chá»n-validator-vÃ -block-proposer">Chá»n Validator vÃ  Block Proposer</h4>
<p>Äá»ƒ thÃ nh má»™t validator, pháº£i gá»­i Ã­t nháº¥t 32 ETH vÃ o contract vÃ  cháº¡y 3 pháº§n má»m riÃªng biá»‡t (sáº½ giá»›i thiá»‡u á»Ÿ sau) vÃ  tham gia hÃ ng Ä‘á»£i. Thá»i gian cá»§a blocks chia thÃ nh cÃ¡c slot: 12s, epoch: 32 slot. Sau khi Ä‘Æ°á»£c active, validator Ä‘Ã³ sáº½ tham ra vÃ o quÃ¡ trÃ¬nh phÃª duyá»‡t. 1 validator ngáº«u nhiÃªn sáº½ Ä‘Æ°á»£c chá»n Ä‘á»ƒ xÃ¡c thá»±c giao dá»‹ch vÃ  Ä‘á» xuáº¥t khá»‘i á»Ÿ má»—i slot (Block proposer). Sá»‘ cÃ²n láº¡i sáº½ lÃ m giÃ¡m sÃ¡t Ä‘á»ƒ phÃª duyá»‡t vÃ  kiá»ƒm tra xem validator Ä‘Ã³ cÃ³ gian láº­n khÃ´ng.</p>

<p>Chá»n Block Proposer quÃ¡ trÃ¬nh giáº£ ngáº«u nhiÃªn gá»“m nhiá»u yÃªu tá»‘ nhÆ° staking age, sá»‘ tiá»n stake,â€¦ á» Ä‘Ã¢y, mÃ¬nh sáº½ giá»›i thiá»‡u 2 phÆ°Æ¡ng phÃ¡p lá»±a chá»n lÃ :</p>
<ul>
  <li><strong> Randomize block selection: </strong> lá»±a chá»n báº±ng cÃ¡ch tÃ¬m kiáº¿m nodes cÃ³ sá»± káº¿t há»£p cá»§a hash value tháº¥p nháº¥t vÃ  stake cao nháº¥t. VÃ¬ size cá»§a cÃ¡c stakes lÃ  cÃ´ng khai nÃªn cÃ³ thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c.</li>
  <li><strong> Coin Age Selection: </strong> lÃ  phÆ°Æ¡ng thá»©c chá»n cÃ¡c nodes dá»±a vÃ o khoáº£ng thá»i gian stake. Coin Age Ä‘Æ°á»£c tÃ­nh báº±ng: sá»‘ ngÃ y Ä‘áº·t cÆ°á»£c x sá»‘ lÆ°á»£ng coin. Khi má»™t node forge má»™t block, coin age cá»§a nÃ³ Ä‘Æ°á»£c cÃ i vá» 0.</li>
</ul>

<h4 id="quy-trÃ¬nh-xÃ¡c-thá»±c">Quy trÃ¬nh xÃ¡c thá»±c</h4>
<p>Khi má»™t user táº¡o Tx vÃ  submit lÃªn Ethereum, nÃ³ sáº½ Ä‘Æ°á»£c kiá»ƒm tra tÃ­nh há»£p lá»‡ (VÃ­ dá»¥ Ä‘áº£m báº£o sá»‘ tiá»n, key Ä‘Ãºng,â€¦) sau Ä‘Ã³ Ä‘Æ°á»£c Ä‘Æ°a Ä‘áº¿n mempool vÃ  phÃ¡t tÃ¡n nÃ³ Ä‘áº¿n cÃ¡c node khÃ¡c. <br />
Má»™t node Ä‘Æ°á»£c chá»n lÃ m Block Proposer Ä‘á»ƒ Ä‘á» xuáº¥t khá»‘i á»Ÿ slot nÃ y, cÃ³ trÃ¡ch nhiá»‡m Ä‘Ã³ng vÃ  phÃ¡t tÃ¡n block vÃ o chuá»—i vÃ  cáº­p nháº­p tráº¡ng thÃ¡i. Nodes cháº¡y 3 pháº§n má»m:</p>
<ul>
  <li>Execution client: gá»™p cÃ¡c Txs tá»« mempool thÃ nh â€œexecution payloadâ€ vÃ  cháº¡y nÃ³ á»Ÿ local Ä‘á»ƒ táº¡o ra sá»± thay Ä‘á»•i tráº¡ng thÃ¡i. ThÃ´ng tin nÃ y Ä‘Æ°á»£c chuyá»ƒn Ä‘áº¿n consensus client</li>
  <li>Consensus client: Ä‘Ã³ng gÃ³i payload thÃ nh 1 pháº§n cá»§a â€œbeacon blockâ€ (gá»“m payload, slashing,â€¦) cho phÃ©p máº¡ng thá»‘ng nháº¥t trÃ¬nh tá»± vá» cÃ¡c khá»‘i.</li>
  <li>Validator client: CÃ¡c node nháº­n Ä‘Æ°á»£c beacon block qua táº§ng gossip network. Sau Ä‘Ã³ chuyá»ƒn Ä‘áº¿n Execution client cá»§a nÃ³ Ä‘á»ƒ cháº¡y láº¡i, nháº±m cháº¯c cháº¯n tráº¡ng thÃ¡i lÃ  Ä‘Ãºng. Sau Ä‘Ã³m Validator client sáº½ chá»©ng thá»±c khá»‘i Ä‘Ã³ há»£p lá»‡ vÃ  lÃ  khá»‘i tiáº¿p theo trong gÃ³c nhÃ¬n cá»§a chuá»—i (available chain). Khá»‘i cÅ©ng Ä‘Æ°á»£c thÃªm vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u local cá»§a cÃ¡c node.</li>
</ul>

<h4 id="finality">Finality</h4>
<p>NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, cÃ¡c block cá»§a available chain luÃ´n extend tá»« Ä‘iá»ƒm checkpoint cuá»‘i cÃ¹ng. Checkpoint lÃ  cÃ¡c block Ä‘áº§u tiÃªn á»Ÿ má»—i epoch. CÃ¡c validators cÃ³ thá»ƒ vote cho cáº·p checkpoint (1 epoch), náº¿u Ã­t nháº¥t 2/3 vote cho nÃ³, cáº·p checkpoint nÃ y sáº½ Ä‘Æ°á»£c cáº­p nháº­p, vÃ  cÃ¡c block náº±m giá»¯a sáº½ Ä‘Æ°á»£c cáº­p nháº­p thÃ nh finalized chain. Náº¿u chuá»—i khÃ´ng thá»ƒ finalized trong nhiá»u hÆ¡n 4 epoch liÃªn tá»¥c, stake ETH tá»« cÃ¡c validator chá»‘ng láº¡i Ä‘a sá»‘ sáº½ bá»‹ biáº¿n máº¥t, cho phÃ©p Ä‘a sá»‘ chiáº¿m hÆ¡n 2/3 vÃ  finalized chuá»—i.</p>

<h2 id="lá»i-káº¿t">Lá»i káº¿t</h2>
<p>á» trÃªn lÃ  cÃ¡ch hoáº¡t Ä‘á»™ng cÆ¡ báº£n cá»§a POS. Má»i ngÆ°á»i cÃ³ thá»ƒ xem thÃªm cÃ¡c thÃ´ng tin vá» POS trong Ethereum táº¡i <a href="https://ethereum.org/vi/developers/docs/consensus-mechanisms/pos/">Ä‘Ã¢y</a>.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[á» bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ giá»›i thiá»‡u má»™t cÆ¡ cháº¿ Ä‘á»“ng thuáº­n Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t nhiá»u trong cÃ¡c blockchain hiá»‡n nay, Ä‘Ã³ lÃ  Proof of Stake.]]></summary></entry><entry><title type="html">Äá»“ng thuáº­n trÃªn máº¡ng</title><link href="http://localhost:4000/blog/2023/07/22/dong-thuan-tren-mang" rel="alternate" type="text/html" title="Äá»“ng thuáº­n trÃªn máº¡ng" /><published>2023-07-22T00:00:00+07:00</published><updated>2023-07-22T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/22/dong-thuan-tren-mang</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/22/dong-thuan-tren-mang"><![CDATA[<p>á» bÃ i trÆ°á»›c, ta Ä‘Ã£ biáº¿t ráº±ng cÃ¡c node sáº½ tham gia vÃ o giao thá»©c cÃ³ thá»ƒ lÃ  Adversary vÃ  cÃ³ thá»ƒ gÃ¢y háº¡i cho blockchain. Váº­y lÃ m cÃ¡ch nÃ o Ä‘á»ƒ chá»n cÃ¡c node tham gia vÃ o consensus.</p>

<h2 id="bitcoin-mining">Bitcoin Mining</h2>
<p>Bitcoin chá»n cÃ¡c nodes tham gia vÃ o giao thá»©c báº±ng cÃ¡c sá»­ dá»¥ng POW, giáº£i bÃ i toÃ¡n tÃ¬m sá»‘ nonce (xem chi tiáº¿t <a href="http://127.0.0.1:4000/blog/2023/07/20/cau-tao-block-va-pow">táº¡i</a>). 
Bitcoin sá»­ dá»¥ng Nakamoto consensus: <br /> 
<strong> Quy táº¯c Ä‘á» xuáº¥t: </strong> á»Ÿ thá»i Ä‘iá»ƒm nÃ o, má»—i miner trung thá»±c má»Ÿ rá»™ng chuá»—i náº·ng nháº¥t (vá»›i Ä‘á»™ khÃ³ cao nháº¥t).
<strong> Quy táº¯c confirmation: </strong> Miner confirm 1 block (vá»›i tiá»n tá»‘ cá»§a nÃ³) mÃ  á»Ÿ Ä‘á»™ sÃ¢u k trong chuá»—i nÃ³ nhÃ¬n Ä‘Æ°á»£c.</p>
<ul>
  <li>VÃ­ dá»¥ trong thá»±c táº¿: k = 6.</li>
  <li>Miner vÃ  client cháº¥p nháº­n cÃ¡c Tx á»Ÿ block cuá»‘i cÃ¹ng Ä‘Æ°á»£c confirm vÃ  tiá»n tá»‘ cá»§a nÃ³ nhÆ° lÃ  log.</li>
  <li>Leader Ä‘Æ°á»£c chá»n bá»Ÿi POW.</li>
</ul>

<p>So sÃ¡nh giá»¯a Bitcoin vÃ  Streamlet /// áº£nh <br /></p>
<ul>
  <li>Streamlet thÃ¬ khÃ´ng dynamic available: NÃ³ sáº½ khÃ´ng Ä‘áº£m báº£o liveness náº¿u n/3 hoáº·c hÆ¡n cÃ¡c nodes offline.</li>
  <li>Bitcoin thÃ¬ dynamic available: tiáº¿p tá»¥c confirm Tx khi miningpower offline. <br /></li>
</ul>

<h2 id="consensus-á»Ÿ-internet">Consensus á»Ÿ Internet</h2>
<p>CÃ¡c nodes tham gia má»Ÿ, tá»©c lÃ  cÃ¡c adversary cÃ³ thá»ƒ táº¡o nhiá»u node vÃ  ngÆ°á»i tham gia trung thá»±c cÃ³ thá»ƒ online hoáº·c offline vÃ  Ä‘i tuá»³ Ã½. Do Ä‘Ã³, má»¥c tiÃªu Ä‘áº·t ra lÃ  pháº£i háº¡n cháº¿ sá»± tham gia cá»§a Adversary, Ä‘á»“ng thá»i duy trÃ¬ dynamic available cá»§a giao thá»©c.</p>

<h2 id="security">Security</h2>
<p>Bitcoin Ä‘áº£m báº£o an toÃ n dÆ°á»›i máº¡ng Ä‘á»“ng bá»™, vá»›i tá»‰ lá»‡ mining power do Adversary kiá»ƒm soÃ¡t ğœ· &lt; 1/2</p>

<h3 id="nakamotos-private-attack-ğœ·--12">Nakamotoâ€™s Private Attack: ğœ· â‰¥ 1/2</h3>
<p>Khi adversay Ä‘Ã o block má»›i, nhÆ°ng khÃ´ng cÃ´ng bá»‘. CÃ¡c miner trung thá»±c tiáº¿p tá»¥c Ä‘Ã o mÃ  khÃ´ng biáº¿t vá» cÃ¡c block áº©n nÃ y. Khi adversary cÃ´ng bá»‘ chuá»—i Ä‘Ã³ (Ä‘Ã£ táº¡o Ä‘á»§ block), chuá»—i Ä‘Ã³ trá»Ÿ thÃ nh chuá»—i dÃ i hÆ¡n chuá»—i mÃ  miners trung thá»±c Ä‘Ã o Ä‘Æ°á»£c (vÃ¬ ğœ· â‰¥ 1/2), cÃ¡c block Ä‘Ã o bá»Ÿi cÃ¡c miner trung thá»±c sáº½ bá»‹ bá».</p>
<h3 id="forking">Forking</h3>
<p>VÃ¬ Network delay, cÃ¡c honest blocks á»Ÿ cÃ¹ng 1 Ä‘á»™ cao. Do Ä‘Ã³, tá»‰ lá»‡ phÃ¡t triá»ƒn cÃ¡c khá»‘i honest sáº½ cháº­m hÆ¡n so vá»›i 1 - ğœ·. Do Ä‘Ã³, Adversary sáº½ thÃ nh cÃ´ng náº¿u ğœ· â‰¥ (1 - ğœ·) / 2 (TrÆ°á»ng há»£p chá»‰ cÃ³ 2 chuá»—i fork).</p>
<h3 id="security-1">Security</h3>
<p>Náº¿u ğœ· &lt; 1/2, tá»“n táº¡i tá»‰ lá»‡ Mining Ä‘á»§ nhá» ğœ†(Î”,ğ›½) = ğœ†A + ğœ†H mÃ  Bitcoin thoáº£ mÃ£n security vá»›i tá»‰ lá»‡ lá»—i cháº¥p nháº­n lÃ  ğ‘’^(âˆ’Î©(ğ‘˜)) dÆ°á»›i máº¡ng Ä‘á»“ng bá»™. ÄÃ¢y lÃ  xÃ¡c xuáº¥t lá»—i vá»›i comfirmation. ÄÃ¢y chÃ­nh lÃ  lÃ½ do sau 10 phÃºt má»›i táº¡o ra khá»‘i má»›i chá»© khÃ´ng pháº£i lÃ  1 giÃ¢y.</p>

<h4 id="chá»©ng-minh">Chá»©ng minh</h4>
<p>Nháº­n tháº¥y, vá»›i cÃ¡c khá»‘i trung thá»±c Ä‘Æ°á»£c táº¡o, váº«n cÃ³ thá»ƒ táº¡o ra fork vÃ¬ khá»‘i sau Ä‘Æ°á»£c táº¡o ra quÃ¡ gáº§n khá»‘i trÆ°á»›c (&lt; Î”). LÃºc nÃ y, khá»‘i táº¡o sau Ä‘Æ°á»£c gá»i lÃ  Tailgater. NgÆ°á»£c láº¡i, náº¿u khá»‘i Ä‘Æ°á»£c táº¡o á»Ÿ thá»i Ä‘iá»ƒm t, vÃ  khÃ´ng tá»“n táº¡i khá»‘i nÃ o Ä‘Æ°á»£c táº¡o trong khoáº£ng thá»i gian tá»« t - Î” Ä‘áº¿n t, thÃ¬ khá»‘i Ä‘Ã³ Ä‘Æ°á»£c gá»i lÃ  Non-Tailgater. CÃ¡c khá»‘i Non-Tailgater thÃ¬ cÃ³ Ä‘á»™ cao riÃªng biá»‡t nhau.</p>

<p>Giá», ta cáº§n tÃ¬m tá»‰ lá»‡ cÃ¡c khá»‘i trung thá»±c lÃ  Tailgater hoáº·c Non-Tailgater. Xem thá»i gian táº¡o cÃ¡c khá»‘i lÃ  biáº¿n ngáº«u nhiÃªn Poisson, thÃ¬ khoáº£ng thá»i gian T giá»¯a 2 khá»‘i tuÃ¢n theo phÃ¢n bá»‘ mÅ©. <br /> 
Gá»i mining rate lÃ  Î» (1/ minutes). Vá»›i Bitcoin Î» = 1/10.<br />
Theo phÃ¢n bá»‘ mÅ©, xÃ¡c suáº¥t Ä‘á»ƒ T lá»›n hÆ¡n s báº¥t kÃ¬ lÃ : P[T &gt; s] = ğ‘’^(-Î»s). Suy ra, náº¿u s = Î” thÃ¬ tá»‰ lá»‡ honest block táº¡o ra lÃ  Non-Tailgater lÃ  g = P[T &gt; Î”] =  ğ‘’^(-Î»Î”), Tailgater lÃ  1 - g.</p>

<p>Ta tháº¥y, cÃ¡c Non-tailgater block tÄƒng vá»›i tá»‰ lá»‡: gÎ», cÃ¡c block nÃ y cÃ³ height khÃ¡c nhau, vÃ¬ tháº¿ chuá»—i dÃ i nháº¥t cÅ©ng tÄƒng Ã­t nháº¥t vá»›i tá»‰ lá»‡ nÃ y. =&gt; liveness.</p>

<p>Vá»›i Safety, ta cáº§n thÃªm cÃ¡c khÃ¡i niá»‡m sau:</p>
<ul>
  <li>Block B Ä‘Æ°á»£c Ä‘Ã o á»Ÿ thá»i gian t, náº¿u khÃ´ng cÃ³ honest block nÃ o khÃ¡c Ä‘Æ°á»£c Ä‘Ã o tá»« tâˆ’Î” Ä‘áº¿n t+Î” thÃ¬ B gá»i lÃ  loner. Do Ä‘Ã³, loner lÃ  block duy nháº¥t á»Ÿ Ä‘á»™ cao Ä‘Ã³. <br />
Äá»ƒ vi pháº¡m safety, cáº§n pháº£i cÃ³ hai chuá»—i khÃ¡c nhau hÆ¡n k khá»‘i, cáº£ hai Ä‘á»u Ä‘Æ°á»£c thÃ´ng qua bá»Ÿi cÃ¡c node trung thá»±c. Äiá»u nÃ y tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i cÃ¡c Adversary pháº£i khai thÃ¡c cÃ¡c khá»‘i nhanh hÆ¡n cÃ¡c khá»‘i loner Ä‘Æ°á»£c táº¡o ra. Gá»i tá»‰ lá»‡ mine cá»§a Adversary lÃ  ğœ·. Tá»‰ lá»‡ mine loner lÃ  g * g * Î». <br /> Do Ä‘Ã³, Nakamoto Ä‘áº£m báº£o security náº¿u g * g * Î» &gt; ğœ·.</li>
</ul>

<h2 id="kÃªt-luáº­n">KÃªt luáº­n</h2>
<p>Náº¿u má»i ngÆ°á»i muá»‘n xem chi tiáº¿t vá» cÃ¡ch chá»©ng minh, hÃ£y truy cáº­p vÃ o <a href="https://eprint.iacr.org/2019/943.pdf">Ä‘Ã¢y</a>.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[á» bÃ i trÆ°á»›c, ta Ä‘Ã£ biáº¿t ráº±ng cÃ¡c node sáº½ tham gia vÃ o giao thá»©c cÃ³ thá»ƒ lÃ  Adversary vÃ  cÃ³ thá»ƒ gÃ¢y háº¡i cho blockchain. Váº­y lÃ m cÃ¡ch nÃ o Ä‘á»ƒ chá»n cÃ¡c node tham gia vÃ o consensus.]]></summary></entry><entry><title type="html">Bitcoin Scripts vÃ  VÃ­</title><link href="http://localhost:4000/blog/2023/07/21/bitcoin-script-and-wallet" rel="alternate" type="text/html" title="Bitcoin Scripts vÃ  VÃ­" /><published>2023-07-21T00:00:00+07:00</published><updated>2023-07-21T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/21/bitcoin-scripts-and-wallet</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/21/bitcoin-script-and-wallet"><![CDATA[<p>á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i sÃ¢u hÆ¡n vá» má»™t sá»‘ vÃ­ dá»¥ cá»§a Bitcoin Script vÃ  cÃ¡c loáº¡i vÃ­ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng.</p>

<h3 id="má»™t-sá»‘-lÆ°u-Ã½">Má»™t sá»‘ lÆ°u Ã½</h3>
<ul>
  <li>CÃ¡c Tx sau khi thÃªm vÃ o khá»‘i sáº½ khÃ´ng thá»ƒ bá»‹ xoÃ¡, do Ä‘Ã³ khi Tx nháº§m thÃ¬ sáº½ bá»‹ khoÃ¡ hoáº·c máº¥t tiá»n.</li>
  <li>CÃ¡c TxID lÃ  Ä‘á»™c nháº¥t, vÃ¬ Input cá»§a chÃºng lÃ  Ä‘á»™c nháº¥t. CÃ³ trÆ°á»ng há»£p ngoáº¡i lá»‡ lÃ  cÃ¡c Coinbase vÃ¬ chÃºng khÃ´ng cÃ³ input. Do Ä‘Ã³ cÃ³ thá»ƒ cÃ³ trÃ¹ng TxID. VÃ¬ váº­y, ngÆ°á»i ta thÆ°á»ng thÃªm Block Height vÃ  má»—i ScriptPk cá»§a coinbase.</li>
</ul>

<h2 id="vÃ­-dá»¥-vá»-cÃ¡c-loáº¡i-bitcoin-scripts">VÃ­ dá»¥ vá» cÃ¡c loáº¡i Bitcoin Scripts</h2>
<h3 id="báº£o-vá»‡-tÃ i-sáº£n-vá»›i-co-signatory">Báº£o vá»‡ tÃ i sáº£n vá»›i co-signatory</h3>
<p>addr = 2 - of - 2 (PkA, PkS) vá»›i PkS lÃ  cá»§a custody server.</p>

<h3 id="escrow-service">Escrow Service</h3>
<p>Giáº£ Ä‘á»‹nh: A muá»‘n mua balo tá»« B vá»›i giÃ¡ 0.1 BTC, nhÆ°ng A chá»‰ cÃ³ thá»ƒ tráº£ tiá»n khi balo Ä‘áº¿n, vÃ  khÃ´ng thá»ƒ khÃ´ng tráº£. Do váº­y, addr cÃ³ dáº¡ng: 2-of-3 (PkA, PkB, PkJ).</p>

<p>CÃ¡ch váº­n hÃ nh:</p>
<ul>
  <li>A thÃ´ng bÃ¡o cho B ráº±ng muá»‘n mua balo vá»›i giÃ¡ 0.1 BTC</li>
  <li>A post 1 Tx 0.11 BTC Ä‘áº¿n addr trÃªn (0.01BTC Ä‘á»ƒ Ä‘áº£m báº£o A sáº½ tráº£ tiá»n cho B).</li>
  <li>B khi tháº¥y Tx, gá»­i balo cho A</li>
  <li>Khi A nháº­n, gá»­i SigA trong Tx trÃªn cho B</li>
  <li>B sáº½ sá»­ dá»¥ng SigA vÃ  SigB Ä‘á»ƒ láº¥y sá»‘ tiá»n mÃ  A gá»­i lÃªn Addr.</li>
</ul>

<p>Náº¿u vi pháº¡m xáº£y ra:</p>
<ul>
  <li>B khÃ´ng Ä‘Æ°a balo, A sáº½ láº¥y láº¡i tiá»n vá»›i sá»± trá»£ giÃºp cá»§a Judge (PkJ).</li>
  <li>A khÃ´ng Ä‘Æ°a SigA, B sáº½ láº¥y tiá»n vá»›i sá»± giÃºp Ä‘á»¡ cá»§a Judge, A máº¥t thÃªm 0.01BTC.</li>
</ul>

<h2 id="vÃ­">VÃ­</h2>
<p>VÃ­ giÃºp user táº¡o ra cÃ¡c cáº·p Pk- Sk, táº¡o ra vÃ  xÃ¡c minh cÃ¡c Tx, Ä‘Æ°a ra sá»‘ dÆ° mÃ  user cÃ³.</p>

<h3 id="giÃºp-Ä‘Æ¡n-giáº£n-hoÃ¡-xÃ¡c-minh-thanh-toÃ¡n">GiÃºp Ä‘Æ¡n giáº£n hoÃ¡ xÃ¡c minh thanh toÃ¡n</h3>
<p>Äá»ƒ xÃ¡c minh má»™t thanh toÃ¡n Ä‘Ã£ thá»±c hiá»‡n, vÃ­ thÆ°á»ng táº£i cÃ¡c block headers. Sau Ä‘Ã³, vÃ­ gá»­i lÃªn server danh sÃ¡ch cÃ¡c Ä‘á»‹a chá»‰ mÃ  vÃ­ Ä‘ang náº¯m giá»¯. Sau Ä‘Ã³, server sáº½ gá»­i vá» vÃ­ cÃ¡c Tx liÃªn quan Ä‘áº¿n Ä‘á»‹a chá»‰ vÃ  Merkle Proof cá»§a Tx Ä‘Ã³. Tá»« Ä‘Ã³ giÃºp vÃ­ hiá»ƒn thá»‹ Ä‘Ãºng sá»‘ dÆ° vÃ  xÃ¡c minh Tx.</p>

<h3 id="váº¥n-dá»">Váº¥n dá»</h3>
<ul>
  <li>Äá»ƒ giáº£i quyáº¿t Ä‘Æ°á»£c yáº¿u tá»‘ báº£o máº­t, blockheader sáº½ Ä‘Æ°á»£c táº£i tá»« 10 servers khÃ¡c nhau hoáº·c tá»« 1 nodes tin cáº­y.</li>
  <li>Remote server cÃ³ thá»ƒ kiá»ƒm tra xem addr gá»­i lÃªn cÃ³ thuá»™c vá» vÃ­ hay khÃ´ng.</li>
</ul>

<h3 id="cÃ¡c-loáº¡i-vÃ­">CÃ¡c loáº¡i vÃ­</h3>
<h4 id="hot-wallet">Hot wallet</h4>
<ul>
  <li>Dáº¡ng vÃ­ Ä‘iá»‡n tá»­ cÃ³ káº¿t ná»‘i Internet, cÃ³ nhiá»u chá»©c nÄƒng nhÆ° lÆ°u trá»¯, gá»­i nháº­n Tx, tokens,â€¦</li>
  <li>CÃ³ thá»ƒ truy cáº­p tá»« cÃ¡c thiáº¿t bá»‹ Internet nhÆ° mÃ¡y tÃ­nh, Ä‘iá»‡n thoáº¡i,..</li>
  <li>CÃ³ thá»ƒ bá»‹ hack hoáº·c xÃ¢m nháº­p bá»Ÿi cÃ¡c hacker.</li>
</ul>

<h3 id="cold-wallet">Cold wallet</h3>
<ul>
  <li>KhÃ´ng cho phÃ©p káº¿t ná»‘i Internet.</li>
  <li>CÃ³ thiáº¿t bá»‹ riÃªng cho cold wallet, thiáº¿t bá»‹ nÃ y pháº£i Ä‘Æ°á»£c khá»Ÿi Ä‘á»™ng báº¥t cá»© khi nÃ o sá»­ dá»¥ng vÃ  ngÆ°á»i dÃ¹ng pháº£i sao chÃ©p váº­t lÃ½ dá»¯ liá»‡u tá»« online device sang offline vÃ  ngÆ°á»£c láº¡i.</li>
</ul>

<h2 id="káº¿t-luáº­n">Káº¿t luáº­n</h2>
<p>CÃ³ nhiá»u loáº¡i Bitcoin Script khÃ¡c nhÆ° CrossChain,â€¦ Ä‘Æ°á»£c sá»­ dá»¥ng ráº¥t phá»• biáº¿n á»Ÿ hiá»‡n táº¡i.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ Ä‘i sÃ¢u hÆ¡n vá» má»™t sá»‘ vÃ­ dá»¥ cá»§a Bitcoin Script vÃ  cÃ¡c loáº¡i vÃ­ thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng.]]></summary></entry><entry><title type="html">CÆ¡ báº£n vá» Ä‘á»“ng thuáº­n</title><link href="http://localhost:4000/blog/2023/07/21/fundamentals-of-consensus" rel="alternate" type="text/html" title="CÆ¡ báº£n vá» Ä‘á»“ng thuáº­n" /><published>2023-07-21T00:00:00+07:00</published><updated>2023-07-21T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/21/fundamentals-of-consensus</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/21/fundamentals-of-consensus"><![CDATA[<p>á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu vá» cÃ¡ch Bitcoin chá»‘ng láº¡i viá»‡c nhá»¯ng nodes khÃ´ng trung thá»±c táº¥n cÃ´ng vÃ o máº¡ng lÆ°á»›i. 
Nhá»¯ng nodes khÃ´ng trung thá»±c (Adversary) lÃ  nhá»¯ng nodes gÃ¢y háº¡i, chÃºng cÃ³ má»¥c Ä‘Ã­ch khiáº¿n Blockchain khÃ´ng cÃ²n minh báº¡ch vÃ  nháº©t quÃ¡n Ä‘á»ƒ dá»… dÃ ng thÃªm vÃ o nhá»¯ng giao dá»‹ch sai mÃ  cÃ³ lá»£i cho chÃºng.</p>

<h2 id="tÃ¡c-háº¡i-cá»§a-adversary">TÃ¡c háº¡i cá»§a Adversary</h2>
<p>CÃ³ thá»ƒ gÃ¢y:</p>
<ul>
  <li>Lá»—i crash: Náº¿u cÃ¡c nodes nÃ y khÃ´ng gá»­i vÃ  nháº­n cÃ¡c msg (message)</li>
  <li>Lá»—i bá» sÃ³t: Náº¿u cÃ¡c nodes nÃ y chá»n hoáº·c bá» qua cÃ¡c msg</li>
  <li>Lá»—i Byzantine: CÃ¡c node sai cÃ³ thá»ƒ Ä‘i lá»‡ch khá»i giao thá»©c.</li>
</ul>

<p>CÃ³ 2 loáº¡i adversary</p>
<ul>
  <li>Static: phÃ¡ huá»· node mÃ  nÃ³ chá»n trÆ°á»›c khi báº¯t Ä‘áº§u giao thá»©c.</li>
  <li>Adaptive: cÃ³ thá»ƒ phÃ¡ huá»· cÃ¡c node khi giao thá»©c xáº£y ra.
<br />
Giá»›i háº¡n sá»©c máº¡nh cá»§a adversary lÃ  sá»‘ node:  f. VÃ­ dá»¥: f &lt; n/2, f &lt; n/3.</li>
</ul>

<h2 id="cÃ¡c-nodes-giao-tiáº¿p-vá»›i-nhau">CÃ¡c nodes giao tiáº¿p vá»›i nhau</h2>
<p>CÃ¡c nodes gá»­i cÃ¡c tin nháº¯n (message) cho nhau trong giao thá»©c. Giáº£ sá»­ má»™t node adversary Ä‘ang Ä‘iá»u khiá»ƒn viá»‡c gá»­i tin nháº¯n:</p>
<ul>
  <li>Trong má»™t máº¡ng Ä‘á»“ng bá»™: Adversary pháº£i chuyá»ƒn tin nháº¯n báº¥t kÃ¬ trong thá»i gian Î” giÃ¢y (Î” Ä‘Ã£ biáº¿t).</li>
  <li>Trong máº¡ng khÃ´ng Ä‘á»“ng bá»™: Adversary cÃ³ thá»ƒ hoÃ£n msg trong 1 khoáº£ng thá»i gian há»¯u háº¡n, nhÆ°ng cuá»‘i cÃ¹ng váº«n pháº£i chuyá»ƒn.</li>
  <li>Trong máº¡ng Ä‘á»“ng bá»™ 1 pháº§n: tá»“n táº¡i 1 sá»± kiá»‡n gá»i lÃ  GST mÃ : Má»™t msg gá»­i bá»Ÿi 1 honest node á»Ÿ thá»i gian t sáº½ Ä‘áº¿n vá»›i ngÆ°á»i nháº­n trong khoáº£ng thá»i gian:  Î” + Max(t, GST). 
<br />
Äiá»u nÃ y tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i máº¡ng sáº½ khÃ´ng Ä‘á»“ng bá»™ cho tá»›i GST, sau Ä‘Ã³ sáº½ Ä‘á»“ng bá»™</li>
</ul>

<h3 id="state-machine-replication-smr">State Machine Replication (SMR)</h3>
<p>LÃ  phÆ°Æ¡ng phÃ¡p chung Ä‘á»ƒ triá»ƒn khai dá»‹ch vá»¥ chá»‹u lá»—i báº±ng viá»‡c sao chÃ©p mÃ¡y chá»§ vÃ  Ä‘iá»u phá»‘i tÆ°Æ¡ng tÃ¡c cá»§a mÃ¡y client vá»›i báº£n sao Ä‘Ã³. NÃ³ cung cáº¥p framework Ä‘á»ƒ hiá»ƒu vÃ  thiáº¿t káº¿t giao thá»©c quáº£n lÃ½ sao chÃ©p.</p>

<p>SMR gá»“m 2 pháº§n:</p>
<ul>
  <li>Replicas: Nháº­n Tx, cháº¡y giao thá»©c SMR vÃ  xÃ¡c Ä‘á»‹nh log. CÃ¡c Log(Ledger) lÃ  chuá»—i Tx thá»© tá»± tuyáº¿n tÃ­nh.</li>
  <li>Client: Giao tiáº¿p vá»›i replicas Ä‘á»ƒ nháº­n log (vÃ­ dá»¥: wallet).
CÃ¡c wallet khÃ´ng cháº¡y giao thá»©c SMR vÃ  cÅ©ng khÃ´ng giao tiáº¿p vá»›i nhau. NÃ³ há»i cÃ¡c replicas vá» cÃ¡c log vÃ  chá»n káº¿t quáº£ Ä‘Æ°á»£c nhiá»u replicas gá»­i vá» nháº¥t.</li>
</ul>

<h3 id="báº£o-máº­t-cho-smr">Báº£o máº­t cho SMR</h3>
<p>Gá»i A â‰¼ B khi A lÃ  tiá»n tá»‘ cá»§a B. VÃ­ dá»¥: A = Tx1Tx2Tx3, B = Tx1Tx2Tx3Tx5Tx6 thÃ¬ A lÃ  tiá»n tá»‘ cá»§a B.<br />
Gá»i LOG(i, t) lÃ  log Ä‘Æ°a ra bá»Ÿi client i á»Ÿ thá»i Ä‘iá»ƒm t. Má»™t giao thá»©c SMR lÃ  an toÃ n náº¿u thoáº£ mÃ£n:</p>
<ul>
  <li>Safety: Vá»›i client i vÃ  j, á»Ÿ 2 thá»i gian t vÃ  s: <br />
  LOG(i, t) â‰¼ LOG(j, s) hoáº·c LOG(j, s) â‰¼ LOG(i, t) hoáº·c cáº£ 2. =&gt; khÃ´ng thá»ƒ xáº£y ra Double Spent</li>
  <li>Liveness: vá»›i Tx lÃ  input cá»§a 1 honest replica á»Ÿ thá»i Ä‘iá»ƒm t, =&gt; vá»›i má»i i á»Ÿ thá»i Ä‘iá»ƒm s â‰¥ t thÃ¬: <br />
Tx âˆˆ LOG(i, s).</li>
</ul>

<h2 id="giao-thá»©c-blockchain">Giao thá»©c Blockchain</h2>
<p>CÃ¡c Txs Ä‘Æ°á»£c Ä‘Ã³ng thÃ nh cÃ¡c block Ä‘á»ƒ tÄƒng thÃ´ng lÆ°á»£ng. Gá»i CH(i, t) lÃ  chuá»—i Ä‘Æ°á»£c accept bá»Ÿi client i táº¡i thá»i gian t. Giao thá»©c blockchain Ä‘áº£m báº£o an toÃ n náº¿u thoáº£ mÃ£n:</p>
<ul>
  <li>Safety: Vá»›i client i vÃ  j, á»Ÿ 2 thá»i gian t vÃ  s: <br />
  CH(i, t) â‰¼ CH(j, s) hoáº·c CH(j, s) â‰¼ CH(i, t) hoáº·c cáº£ 2</li>
  <li>Liveness: vá»›i Tx lÃ  input cá»§a 1 honest replica á»Ÿ thá»i Ä‘iá»ƒm t, =&gt; vá»›i má»i i á»Ÿ thá»i Ä‘iá»ƒm s â‰¥ t thÃ¬: <br />
Tx âˆˆ CH(i, s).</li>
</ul>

<p>Mong muá»‘n giao thá»©c pháº£i Ä‘áº£m báº£o an toÃ n dÆ°á»›i mÃ´i trÆ°á»ng bÃ¡n Ä‘á»“ng bá»™. Theo DLS(1988), náº¿u f â‰¥ n/3 thÃ¬ giao thá»©c SMR khÃ´ng thá»ƒ Ä‘áº£m báº£o an toÃ n. BÃ¢y giá» vá»›i f &lt; n/3, ta sáº½ chá»©ng minh lÃ  giao thá»©c nÃ y an toÃ n.</p>

<h2 id="chá»©ng-minh">Chá»©ng minh</h2>
<p>Thá»i gian chia thÃ nh cÃ¡c epoch, má»—i epoch lÃ  2Î” giÃ¢y. CÃ³ n replicas cá»‘ Ä‘á»‹nh, má»—i epoch e Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh 1 leader Le bá»Ÿi hÃ m Hash.</p>
<h3 id="baby-streamlet">Baby streamlet</h3>
<p><strong>Äá» xuáº¥t khá»‘i: </strong> á» Ä‘áº§u má»—i epoch, Le xÃ¡c Ä‘á»‹nh chuá»—i dÃ i nháº¥t nÃ³ tá»«ng tháº¥y cho Ä‘áº¿n nay vÃ  sáº½ Ä‘á» xuáº¥t 1 khá»‘i liá»n sau chuá»—i Ä‘Ã³. <bn>
<strong>Finalization: </strong> 1 replica finalizes block (vÃ  tiá»n tá»‘ cá»§a nÃ³) á»Ÿ Ä‘áº§u chuá»—i. Náº¿u cÃ³ nhiá»u block nhÆ° tháº¿, chá»n block cÃ³ epoch nhá» nháº¥t.<br />
Tuy nhiÃªn, cÃ³ má»™t nhÆ°á»£c Ä‘iá»ƒm lÃ  náº¿u Leader lÃ  adversary vÃ  network chÆ°a Ä‘á»“ng bá»™, thÃ¬ Adversary cÃ³ thá»ƒ gá»­i thÃ´ng bÃ¡o cÃ¡c Block cho 1 user báº¥t kÃ¬, nhÆ°ng thÃ´ng bÃ¡o chÆ°a tá»›i cÃ¡c user cÃ²n láº¡i cho tá»›i sau GST. 
/// hÃ¬nh minh hoáº¡</bn></p>

<h3 id="teen-streamlet">Teen streamlet</h3>
<p>Votes: 1 vote trÃªn block bá»Ÿi replica lÃ  chá»¯ kÃ­ cá»§a nÃ³ trÃªn block. <br />
Notarization: 1 block Ä‘Æ°á»£c xem lÃ  Notarized dÆ°á»›i gÃ³c nhÃ¬n cá»§a replica náº¿u block Ä‘Ã³ cÃ³ hÆ¡n 2n/3 chá»¯ kÃ­ tá»« cÃ¡c replica khÃ¡c.<br />
<strong>Äá» xuáº¥t khá»‘i: </strong> Äáº§u mÃµi epoch e, Le xÃ¡c Ä‘á»‹nh chuá»—i Notarized dÃ i nháº¥t vÃ  Ä‘á» xuáº¥t khá»‘i sau chuá»—i Notarized nÃ y.<br />
<strong> Vote: </strong> âˆ† giÃ¢y á»Ÿ epoch e,má»—i replica vote cho Ä‘á» xuáº¥t há»£p lá»‡ Ä‘áº§u tiÃªn dÆ°á»›i gÃ³c nhÃ¬n cá»§a Le (má»Ÿ rá»™ng chuá»—i dÃ i nháº¥t theo gÃ³c nhÃ¬n cá»§a nÃ³).<br />
<strong>Finalization: </strong>  1 replica finalize 1 block vÃ  tiá»n tá»‘ cá»§a nÃ³ sau khi tháº¥y khá»‘i Ä‘Æ°á»£c notarized.</p>

<p>VÃ­ dá»¥: /// hÃ¬nh áº£nh <br />
Chá»©ng minh: vá»›i f &lt; n/3, vá»›i má»—i epoch e, chá»‰ cÃ³ tá»‘i Ä‘a 1 notarized block vá»›i epoch lÃ  e trong gÃ³c nhÃ¬n cá»§a báº¥t kÃ¬ replica trung thá»±c nÃ o. <br />
Giáº£ sá»­ 2 khá»‘i cÃ¹ng epoch e lÃ  B vÃ  Bâ€™. VÃ¬ f &lt; n/3 nÃªn tá»“n táº¡i replica vote cho cáº£ B, Bâ€™. MÃ  sá»‘ vote cá»§a B vÃ  Bâ€™ lá»›n hÆ¡n 2/3 =&gt; sá»‘ replica vote cho cáº£ 2 lÃ  &gt; n/3. ÄÃ¢y lÃ  vÃ´ lÃ½. Váº­y khi network chÆ°a Ä‘á»“ng bá»™, giao thá»©c nÃ y Ä‘áº£m báº£o an toÃ n.<br />
Vá»›i cÃ¡c block cÃ³ epoch khÃ¡c nhau, cÃ³ thá»ƒ cÃ¹ng á»Ÿ chung 1 Ä‘á»™ cao. Gá»i 2 block Ä‘Ã³ lÃ  B1 vÃ  B2. Ban Ä‘áº§u, á»Ÿ B, adversarial Ä‘á» xuáº¥t B1 cho 66 replica trung thá»±c, nÃªn B1 chÆ°a Ä‘Æ°á»£c notarized (vÃ¬ cÃ³ 66 vote). Tiáº¿p theo, B2 Ä‘Æ°á»£c Ä‘á» xuáº¥t bá»Ÿi 1 replica trung thá»±c, vÃ  Ä‘Æ°á»£c notarized nhÆ°ng trong Ä‘Ã³ cÃ³ 1 adversarial vote cho B1, nÃªn B1 cÅ©ng Ä‘Æ°á»£c notarized. Tá»« Ä‘Ã³ dáº«n Ä‘áº¿n vi pháº¡m safety.</p>

<h3 id="streamlet">Streamlet</h3>
<p><strong>Finalization: </strong> Khi tháº¥y 3 khá»‘i ká» nhau trong chuá»—i Ä‘Æ°á»£c notarized vá»›i epoch liÃªn tiáº¿p, thÃ¬ client sáº½ finalize block thá»© 2 trong 3 block trÃªn vÃ  táº©t cáº£ tiá»n tá»‘ cá»§a nÃ³.</p>

<p>Äá»™ phá»©c táº¡p giao tiáº¿p lÃ  O(N^3) message cho má»—i block, vÃ¬ má»—n honest replica chuyá»ƒn tiáº¿p cÃ¡c votes nÃ³ nháº­n tá»« cÃ¡c replica khÃ¡c cho táº¥t cáº£ cÃ¡c replica.
Chá»©ng minh tÃ­nh an toÃ n:<br />
<strong> Safety: </strong> Giáº£ sá»­ cÃ³ 2 block Ä‘ang trong tÃ¬nh tráº¡ng confict á»Ÿ epoch e vÃ  eâ€™. Náº¿u: <br /></p>
<ul>
  <li>e = eâ€™: khÃ´ng thá»ƒ (Ä‘Ã£ chá»©ng minh á»Ÿ Teen Streamlet).<br /></li>
  <li>e &lt; eâ€™: suy ra e+1 &lt; eâ€™. VÃ¬ B3 Ä‘Æ°á»£c notarized nÃªn cÃ³ Ã­t nháº¥t S &gt; n/3 replica trung thá»±c vote cho B3 táº¡i e+1. Váº­y S sáº½ tháº¥y B2 Ä‘Æ°á»£c notarized á»Ÿ Ä‘áº§u epoch e+1, do Ä‘Ã³, S sáº½ khÃ´ng vote cho Bâ€™ vÃ¬ Bâ€™ khÃ´ng má»Ÿ rá»™ng tá»« chuÃµi dÃ i nháº¥t. MÃ  S &gt; n/3 nÃªn Bâ€™ khÃ´ng Ä‘Æ°á»£c notarized. <br /></li>
  <li>e &gt; eâ€™: suy ra e-1 &gt; eâ€™. Náº¿u Bâ€™ Ä‘Æ°á»£c notarized, cÃ³ S &gt; n/3 replica trung thá»±c vote cho nÃ³ táº¡i epoch eâ€™. Váº­y S sáº½ tháº¥y Bâ€ Ä‘Æ°á»£c notarized á»Ÿ Ä‘áº§u epoch eâ€, do Ä‘Ã³ S sáº½ khÃ´ng vote cho B1. TÆ°Æ¡ng tá»±, B1 khÃ´ng Ä‘Æ°á»£c notarized. Äiá»u nÃ y trÃ¡i vá»›i giáº£ thiáº¿t.<br />
HÃ¬nh Minh Hoáº¡: <br />
Váº­y, Streamlet Ä‘áº£m báº£o safety<br /></li>
</ul>

<p><strong> Liveness: </strong> Giáº£ sá»­ cÃ³ 4 slot liÃªn tiáº¿p: e, e + 1, e + 2, e + 3 vá»›i leader trung thá»±c sau GST. á» cuá»‘i cÃ¡c slot nÃ y, client sáº½ finalize block Ä‘Æ°á»£c Ä‘á» xuáº¥t bá»Ÿi cÃ¡c replica trung thá»±c. Trong Ä‘Ã³:</p>
<ul>
  <li>1 slot Ä‘á»ƒ undo cÃ¡c hÃ nh Ä‘á»™ng cá»§a adversary. <br /></li>
  <li>3 slot Ä‘á»ƒ finalize block. <br />
NgoÃ i ra, Ä‘áº£m báº£o khÃ´ng cÃ³ 2 block liÃªn tiáº¿p nhau mÃ  chÆ°a Ä‘Æ°á»£c notarized.</li>
</ul>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[á» bÃ i viáº¿t nÃ y, chÃºng ta sáº½ tÃ¬m hiá»ƒu vá» cÃ¡ch Bitcoin chá»‘ng láº¡i viá»‡c nhá»¯ng nodes khÃ´ng trung thá»±c táº¥n cÃ´ng vÃ o máº¡ng lÆ°á»›i. Nhá»¯ng nodes khÃ´ng trung thá»±c (Adversary) lÃ  nhá»¯ng nodes gÃ¢y háº¡i, chÃºng cÃ³ má»¥c Ä‘Ã­ch khiáº¿n Blockchain khÃ´ng cÃ²n minh báº¡ch vÃ  nháº©t quÃ¡n Ä‘á»ƒ dá»… dÃ ng thÃªm vÃ o nhá»¯ng giao dá»‹ch sai mÃ  cÃ³ lá»£i cho chÃºng.]]></summary></entry><entry><title type="html">CÆ¡ cháº¿ Bitcoin</title><link href="http://localhost:4000/blog/2023/07/20/co-che-Bitcoin" rel="alternate" type="text/html" title="CÆ¡ cháº¿ Bitcoin" /><published>2023-07-20T00:00:00+07:00</published><updated>2023-07-20T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/20/co-che-bitcoin</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/20/co-che-Bitcoin"><![CDATA[<p>Vá»›i má»—i Miner, há» sáº½ thÃ´ng thÆ°á»ng Ä‘Æ°á»£c connect vá»›i 8 ngÆ°á»i khÃ¡c. Khi má»™t Tx Ä‘Æ°á»£c gá»­i Ä‘áº¿n, Miners sáº½ thÃ´ng bÃ¡o lÃ  nháº­n Ä‘Æ°á»£c Tx trÃªn máº¡ng P2P. Má»i miners sáº½ xÃ¡c thá»±c ráº±ng Tx Ä‘Ã£ nháº­n vÃ  lÆ°u vÃ o trong Mempool. Mempool lÃ  nÆ¡i chá»©a nhá»¯ng Tx Ä‘ang chá» Ä‘Æ°á»£c xá»­ lÃ½. CÃ¡c nodes nÃ y chia sáº» dá»¯ liá»‡u mempool vá»›i nhau báº±ng cÃ¡ch chuyá»ƒn tiáº¿p cÃ¡c Tx Ä‘Ã£ kÃ­ vá»›i nhau cho Ä‘áº¿n khi nÃ³ Ä‘Æ°á»£c toÃ n bá»™ máº¡ng lÆ°á»›i.</p>

<h3 id="thá»i-gian-Ä‘Ã³ng-cÃ¡c-khá»‘i">Thá»i gian Ä‘Ã³ng cÃ¡c khá»‘i</h3>
<p>Cá»© sau má»—i 10 phÃºt, má»—i miner sáº½ táº¡o 1 block tiá»m nÄƒng tá»« cÃ¡c Tx trong mempool cá»§a nÃ³. CÃ¡c Tx Ä‘Æ°á»£c Æ°u tiÃªn theo phÃ­ giao dá»‹ch. 1 miner Ä‘Æ°á»£c chá»n (sau khi giáº£i Ä‘Æ°á»£c bÃ i toÃ¡n PoW) sáº½ phÃ¢n tÃ¡n block Ä‘Ã³ cho toÃ n máº¡ng vÃ  má»i miner khÃ¡c sáº½ xem Ä‘Æ°á»£c block, sau Ä‘Ã³ block Ä‘Æ°á»£c Ä‘Æ°a vÃ o chuá»—i. Pháº§n thÆ°á»Ÿng lÃ  6.25 BTC. Pháº§n thÆ°á»Ÿng nÃ y Ä‘Æ°á»£c gá»­i cho miner thÃ´ng qua coinbase Tx (lÃ  Tx Ä‘áº§u tiÃªn trong block chá»©a Ä‘á»‹a chá»‰ vÃ­ cá»§a miner do ,miner thÃªm vÃ o).</p>

<h2 id="cáº¥u-trÃºc-cá»§a-má»™t-transaction">Cáº¥u trÃºc cá»§a má»™t Transaction</h2>
<p>Transaction trong Bitcoin chia lÃ m 2 pháº§n chÃ­nh lÃ  Input vÃ  Output.
Input gá»“m 3 pháº§n chÃ­nh:</p>
<ul>
  <li>Previous Tx ID: ID cá»§a Tx trÆ°á»›c Ä‘Ã³ mÃ  táº¡o ra Bitcoin á»Ÿ Output Ä‘á»ƒ sá»­ dá»¥ng trong giao dá»‹ch hiá»‡n táº¡i.</li>
  <li>Previous Tx index: VÃ¬ má»™t Tx cÃ³ thá»ƒ cÃ³ nhiá»u Output nÃªn index nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh output trong Tx trÆ°á»›c Ä‘Ã³. Danh sÃ¡ch cÃ¡c output Ä‘Æ°á»£c xem nhÆ° 1 táº­p há»£p bÃªn trong Tx.</li>
  <li>ScriptSig: Script Signature. NÃ³ mÃ£ hoÃ¡ Public key vÃ  chá»¯ kÃ­ cá»§a ngÆ°á»i sá»Ÿ há»¯u Bitcoin á»Ÿ hiá»‡n táº¡i.</li>
</ul>

<p>Output: lÃ  nhá»¯ng bitcoin má»›i Ä‘Æ°á»£c khoÃ¡ vá»›i Hash cá»§a Public Key cá»§a ngÆ°á»i nháº­n. Bitcoin sá»­ dá»¥ng mÃ´ hÃ¬nh UTXO lÃ  Bitcoin chá»‰ cÃ³ thá»ƒ sá»­ dá»¥ng 1 láº§n, sau má»—i giao dá»‹ch thÃ¬ bitcoin cÅ© sáº½ bá»‹ loáº¡i bá» vÃ  má»™t lÆ°á»£ng bitcoin má»›i Ä‘Æ°á»£c táº¡o ra. Output gá»“m 2 pháº§n chÃ­nh:</p>
<ul>
  <li>Value: Sá»‘ lÆ°á»£ng bitcoin mÃ  Ä‘Æ°á»£c gá»­i cho ngÆ°á»i nháº­n. (Min: 1 satoshi = 10^-8 BTC)</li>
  <li>ScriptPubKey: LÃ  má»™t dÃ£y cÃ¡c chá»‰ dáº«n (NhÆ° 1 hÃ m) mÃ  nháº­n ScriptSig lÃ  Input vÃ  tráº£ vá» True náº¿u ngÆ°á»i sá»Ÿ há»¯u há»£p lá»‡ má»Ÿ khoÃ¡ Bitcoin nÃ y. NgÆ°á»£c láº¡i, nÃ³ tráº£ vá» false.</li>
</ul>

<p>Má»™t giao dá»‹ch cÃ³ thá»ƒ cÃ³ nhiá»u Input vÃ  Output. CÃ¡c input cÃ³ thá»ƒ tá»« nhiá»u user (gá»i lÃ  MultiSig Tx), cÃ¡c output cÃ³ thá»ƒ Ä‘áº¿n nhiá»u user.</p>

<p>NgoÃ i ra, trong Tx cÃ²n cÃ³ 2 pháº§n khÃ¡c lÃ  segwit vÃ  locktime.</p>

<h3 id="miner-xÃ¡c-minh-má»™t-tx-nhÆ°-tháº¿-nÃ o">Miner xÃ¡c minh má»™t Tx nhÆ° tháº¿ nÃ o</h3>
<p>Má»™t Tx thoáº£ mÃ£n khi:</p>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>ScriptSig</td>
          <td>ScriptPK tráº£ vá» True. Tá»©c lÃ  vá»›i Ä‘iá»u kiá»‡n nÃ o thÃ¬ UTXO cÃ³ thá»ƒ Ä‘Æ°á»£c tiÃªu.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>TxID</td>
          <td>index: hiá»‡n á»Ÿ trong táº­p cÃ¡c UTXO</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>tá»•ng Input values &gt; tá»•ng Output values: KhÃ´ng thá»ƒ tiÃªu nhiá»u hÆ¡n sá»‘ tiá»n Ä‘ang cÃ³.
Sau khi 1 Tx Ä‘Æ°á»£c post lÃªn, miners sáº½ xoÃ¡ UTXO tÆ°Æ¡ng á»©ng cá»§a nÃ³ trong táº­p.</li>
</ul>

<h2 id="cÃ¡c-loáº¡i-tx">CÃ¡c loáº¡i Tx</h2>
<h3 id="pay-to-public-key-hash-p2pkh">Pay to public key hash (P2PKH)</h3>
<p>TrÆ°á»›c tiÃªn, má»i ngÆ°á»i cáº§n hiá»ƒu vá» má»™t sá»‘ op codes hoáº¡t Ä‘á»™ng trong Bitcoin Script á»Ÿ <a href="https://wiki.bitcoinsv.io/index.php/Opcodes_used_in_Bitcoin_Script">Ä‘Ã¢y</a>. 
Giáº£ sá»­ Alice muá»‘n gá»­i cho Bob 5BTC. Alice vÃ  Bob sáº½ lÃ m cÃ¡c bÆ°á»›c sau:</p>
<ul>
  <li>Bob táº¡o sig : gá»i Gen():  (pkB, skB)</li>
  <li>Bob tÃ­nh Ä‘á»‹a chá»‰ bitcoin cá»§a mÃ¬nh báº±ng: addrB = H(pkB)</li>
  <li>Bob gá»­i addrB cho Alice</li>
  <li>
    <p>Alice táº¡o giao dá»‹ch Tx-fund vá»›i Output[0] lÃ : UTXO[0]: 5, ScriptPkB vá»›i ScriptPkB lÃ :</p>

    <p>DUP  HASH256  Â«addrBÂ»  EQVERIFY  CHECKSIG</p>
  </li>
</ul>

<p>cÃ²n á»Ÿ Input, Alice cÃ³ ScriptSig Ä‘á»ƒ xÃ¡c thá»±c Bitcoin cá»§a Alice cÃ³ chá»©a chá»¯ kÃ½ cá»§a Alice lÃªn Tx nÃ y, khiáº¿n cho khÃ´ng ai cÃ³ quyá»n thay Ä‘á»•i ScriptPkB.</p>

<p>Sau Ä‘Ã³, Bob muá»‘n sá»­ dá»¥ng UTXO[0] thÃ¬ sáº½ táº¡o 1 Tx-spend vá»›i ScriptSigB trong input, bao gá»“m Â«sigÂ» vÃ  Â«pkBÂ» vá»›i Sig = Sig(skB, Tx) (Tx nÃ y lÃ  Tx-spend nhÆ°ng khÃ´ng chá»©a cÃ¡c ScriptSig).</p>

<p>Miner cÃ³ thá»ƒ xÃ¡c thá»±c ScriptSigB|ScriptPkB = true vÃ  cho phÃ©p B sá»­ dá»¥ng sá»‘ tiá»n.
Má»™t sá»‘ lÆ°u Ã½ nhÆ°:</p>
<ul>
  <li>NgÆ°á»i nháº­n (Bob) khÃ´ng thá»ƒ tiáº¿t lá»™ PkB cho Ä‘áº¿n khi UTXO Ä‘Æ°á»£c dÃ¹ng (vÃ¬ báº£o máº­t).</li>
  <li>VÃ¬ trÃ¡nh viá»‡c táº¥n cÃ´ng báº±ng cÃ¡ch thay Ä‘á»•i Sig, Sig Ä‘Æ°á»£c chuyá»ƒn vÃ o pháº§n witness vÃ  TxID Ä‘Æ°á»£c tÃ­nh báº±ng:               TxID = H(Tx khÃ´ng chá»©a witness).</li>
</ul>

<h3 id="pay-to-script-hash-p2sh">Pay to script hash (P2SH)</h3>
<p>NgÆ°á»i nháº­n (Bob) thay vÃ¬ táº¡o address lÃ  H(pkB) thÃ¬ táº¡o 1 redeem script, sau Ä‘Ã³ gÃ¡n Ä‘á»‹a chá»‰ Ä‘á»ƒ ngÆ°á»i gá»­i (Alice) chuyá»ƒn qua thÃ nh H(redeem script).
VÃ­ dá»¥:</p>
<ul>
  <li>ScriptPK á»Ÿ UTXO: HASH160   Â«H(redeem script)Â»  EQUAL</li>
  <li>ScriptSig Ä‘á»ƒ tiÃªu: {sig1 , sig2, â€¦, sign, redeem script}
Tá»« Ä‘Ã¢y, ngÆ°á»i gá»­i (Alice) cÃ³ thá»ƒ thÃªm cÃ¡c Ä‘iá»u kiá»‡n phá»©c táº¡p Ä‘á»ƒ xÃ¡c Ä‘á»‹nh khi nÃ o ngÆ°á»i nháº­n (Bob) cÃ³ thá»ƒ tiÃªu.</li>
</ul>

<p>Reedem Script: lÃ  cÃ¡c Ä‘iá»u kiá»‡n thoáº£ mÃ£n Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng UTXO nhÆ°: sá»‘ chá»¯ kÃ­ tá»‘i thiá»ƒu, thá»i gian,â€¦</p>

<p>CÃ¡c miner xÃ¡c minh báº±ng cÃ¡ch:</p>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>ScriptSig</td>
          <td>ScriptPk = true: Bob gá»­i Ä‘Ãºng script.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>ScriptSig = true: script lÃ  thoáº£ mÃ£n (tá»©c lÃ  sáº½ tá»“n táº¡i Ä‘iá»u kiá»‡n Ä‘á»ƒ Bob cÃ³ thá»ƒ dÃ¹ng UTXO).</li>
</ul>

<h4 id="vÃ­-dá»¥-multisig">VÃ­ dá»¥: MultiSig</h4>
<p>Muá»‘n dÃ¹ng UTXO thÃ¬ cáº§n t/n chá»¯ kÃ­. VÃ­ dá»¥ vá»›i 2 / 3 chá»¯ kÃ­. Redeem Script vÃ  ScriptSig Ä‘Æ°á»£c viáº¿t nhÆ° sau:</p>
<ul>
  <li>Redeem Script: 	2, PK1, PK2, PK3, 3, CHECKMULTISIG</li>
  <li>ScriptSig: 0, sig1, sig3, redeem script</li>
</ul>

<h2 id="káº¿t-luáº­n">Káº¿t luáº­n</h2>
<p>NgoÃ i nhá»¯ng dáº¡ng Tx á»Ÿ trÃªn, sáº½ cÃ³ nhiá»u dáº¡ng Tx khÃ¡c Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ trong nhiá»u trÆ°á»ng há»£p cá»¥ thá»ƒ.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[Vá»›i má»—i Miner, há» sáº½ thÃ´ng thÆ°á»ng Ä‘Æ°á»£c connect vá»›i 8 ngÆ°á»i khÃ¡c. Khi má»™t Tx Ä‘Æ°á»£c gá»­i Ä‘áº¿n, Miners sáº½ thÃ´ng bÃ¡o lÃ  nháº­n Ä‘Æ°á»£c Tx trÃªn máº¡ng P2P. Má»i miners sáº½ xÃ¡c thá»±c ráº±ng Tx Ä‘Ã£ nháº­n vÃ  lÆ°u vÃ o trong Mempool. Mempool lÃ  nÆ¡i chá»©a nhá»¯ng Tx Ä‘ang chá» Ä‘Æ°á»£c xá»­ lÃ½. CÃ¡c nodes nÃ y chia sáº» dá»¯ liá»‡u mempool vá»›i nhau báº±ng cÃ¡ch chuyá»ƒn tiáº¿p cÃ¡c Tx Ä‘Ã£ kÃ­ vá»›i nhau cho Ä‘áº¿n khi nÃ³ Ä‘Æ°á»£c toÃ n bá»™ máº¡ng lÆ°á»›i.]]></summary></entry><entry><title type="html">Cáº¥u táº¡o block vÃ  PoW</title><link href="http://localhost:4000/blog/2023/07/20/cau-tao-block-va-pow" rel="alternate" type="text/html" title="Cáº¥u táº¡o block vÃ  PoW" /><published>2023-07-20T00:00:00+07:00</published><updated>2023-07-20T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/20/cau-tao-block-va-pow</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/20/cau-tao-block-va-pow"><![CDATA[<p>Trong bÃ i viáº¿t ngÃ y hÃ´m nay, mÃ¬nh sáº½ nÃ³i kÄ© hÆ¡n vá» cáº¥u táº¡o cá»§a block trong blockchain vÃ  cÆ¡ cháº¿ Ä‘á»“ng thuáº­n PoW (Proof of Work).</p>

<h2 id="cáº¥u-táº¡o-block-trong-bitcoin">Cáº¥u táº¡o block trong bitcoin</h2>
<p>CÃ¡c block chá»©a cÃ¡c dá»¯ liá»‡u vá» Tx Ä‘Æ°á»£c lÆ°u vÃ o trong sá»• cÃ¡i cÃ´ng khai. Block cÃ³ cÃ¡c header, nÆ¡i chá»©a cÃ¡c siÃªu dá»¯ liá»‡u giÃºp quáº£n lÃ½ block Ä‘Ã³. KÃ­ch thÆ°á»›c blockheader lÃ  80 bytes, trong khi cÃ¡c giao dá»‹ch trung bÃ¬nh khoáº£ng 250 bytes vÃ  má»—i khá»‘i trung bÃ¬nh chá»©a Ä‘Æ°á»£c 500 Tx.</p>

<p>á» trong blockheader chá»©a cÃ¡c dá»¯ liá»‡u liÃªn quan Ä‘áº¿n cÃ¡c block Ä‘Ã³. Äáº§u tiÃªn, lÃ  giÃ¡ trá»‹ hash cá»§a block liá»n trÆ°á»›c nÃ³(32 bytes), giÃºp Ä‘áº£m báº£o liÃªn káº¿t trong chuá»—i. Tiáº¿p theo lÃ  Version (4 bytes) lÃ  phiÃªn báº£n cá»§a block hiá»‡n táº¡i. Merkle Root cÅ©ng Ä‘Æ°á»£c lÆ°u á»Ÿ Ä‘Ã¢y (32 bytes), lÃ  giÃ¡ trá»‹ hash cá»§a cá»§a gá»‘c cÃ¢y Merkle cá»§a cÃ¡c Tx. 4 bytes Timestamp lÃ  chá»‰ thá»i gian block Ä‘Æ°á»£c táº¡o, Ä‘Æ°á»£c tÃ­nh báº±ng sá»‘ giÃ¢y tá»« 01/01/1970. Tiáº¿p theo lÃ  Hash Target/ Difficult Target (4 bytes) lÃ  giÃ¡ trá»‹ hash má»¥c tiÃªu cá»§a PoW cho block nÃ y. Cuá»‘i cÃ¹ng lÃ  sá»‘ nonce (4 bytes), lÃ  giÃ¡ trá»‹ mÃ  cÃ¡c miner tÃ¬m Ä‘á»ƒ giáº£i bÃ i toÃ¡n PoW.</p>

<h2 id="proof-of-work">Proof of Work</h2>
<p>PoW lÃ  má»™t pháº§n dá»¯ liá»‡u khÃ³ táº¡o (lÃ  Ä‘Ã¡p Ã¡n cho má»™t bÃ i toÃ¡n) hoáº·c ráº¥t tá»‘n kÃ©m, máº¥t thá»i gian Ä‘á»ƒ táº¡o nhÆ°ng chá»‰ tá»‘n 1 thá»i gian ráº¥t ngáº¯n (Ä‘pt O(1)) Ä‘á»ƒ cÃ³ thá»ƒ kiá»ƒm tra xem Ä‘Ã¡p Ã¡n Ä‘Ã³ cÃ³ Ä‘Ãºng khÃ´ng. Quy trÃ¬nh táº¡o dá»¯ liá»‡u nÃ y lÃ  ngáº«u nhiÃªn vá»›i xÃ¡c suáº¥t tháº¥p, cáº§n thá»­ sau ráº¥t nhiá»u láº§n trÆ°á»›c khi táº¡o ra PoW há»£p lá»‡.</p>

<p>PoW lÃ  cÃ¡ch Ä‘á»ƒ cÃ¡c nodes cÃ¹ng Ä‘á»“ng thuáº­n vá» tÃ¬nh tráº¡ng cá»§a block, trÃ¡nh viá»‡c <a href="https://academy.binance.com/vi/articles/double-spending-explained">chi tiÃªu khÃ©p</a>, tá»« Ä‘Ã³ cho phÃ©p cáº­p nháº­p blockchain theo cÃ¡c quy táº¯c cá»§a há»‡ thá»‘ng.</p>

<h3 id="vÃ­-dá»¥-vá»›i-bitcoin">VÃ­ dá»¥ vá»›i Bitcoin:</h3>
<p>Trong quÃ¡ trÃ¬nh táº¡o khá»‘i, cÃ¡c miner sáº½ pháº£i giáº£i Ä‘Æ°á»£c bÃ i toÃ¡n tÃ¬m sá»‘ nonce Ä‘á»ƒ Ä‘Æ°a vÃ o blockheader vÃ  khiáº¿n block há»£p lá»‡. Block há»£p lá»‡ lÃ  block cÃ³ hash nhá» hÆ¡n target value hiá»‡n táº¡i.
Hash cá»§a block lÃ  láº¥y (Tá»•ng cá»§a: Merkle Root, Version, Timestamp, Target, PreviousHash, Nonce) hash 2 láº§n,náº¿u Hash nÃ y nhá» hÆ¡n hoáº·c báº±ng Target, tá»©c lÃ  block nÃ y há»£p lá»‡. Block nÃ y sau Ä‘Ã³ sáº½ Ä‘Æ°á»£c Ä‘Æ°a vÃ o chuá»—i sau khi cÃ¡c nodes khÃ¡c verify ráº±ng nonce nÃ y lÃ  há»£p lá»‡ (vá»›i Ä‘á»™ phá»©c táº¡p O(1)). NgÆ°á»£c láº¡i, cÃ¡c miner sáº½ pháº£i tÃ¬m sá»‘ Nonce khÃ¡c.</p>

<p>Äá»™ khÃ³ (Target Hash) sáº½ Ä‘Æ°á»£c thay Ä‘á»•i sau 2016 block (2 tuáº§n) Ä‘Æ°á»£c sinh ra. Náº¿u thá»i gian sinh 2016 block nÃ y nhanh hÆ¡n, Target Hash sáº½ Ä‘Æ°á»£c Ä‘iá»u chá»‰nh xuá»‘ng, ngÆ°á»£c láº¡i sáº½ tÄƒng lÃªn. Sau khi cáº­p nháº­p, cÃ¡c nodes cÃ¹ng chia sáº» má»™t Target.</p>

<h3 id="incentive">Incentive</h3>
<p>Sau khi táº¡o Ä‘Æ°á»£c block, miner sáº½ nháº­n pháº§n thÆ°á»Ÿng vÃ  Tx phÃ­ thÃ´ng qua coinbase mÃ  há» Ä‘Æ°a vÃ o block. <br />
Coinbase lÃ  giao dá»‹ch Ä‘áº§u tiÃªn trong block, Ä‘Æ°á»£c táº¡o bá»Ÿi miner nháº±m má»¥c Ä‘Ã­ch nháº­n pháº§n thÆ°á»Ÿng vÃ  Tx phÃ­. Do Ä‘Ã³, coinbase khÃ´ng cÃ³ input, chá»‰ cÃ³ output lÃ  Ä‘á»‹a chá»‰ vÃ­ cá»§a miner. Bitcoin nháº­n Ä‘Æ°á»£c tá»« coinbase khÃ´ng thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng cho Ä‘áº¿n khi Ä‘áº¡t 100 xÃ¡c nháº­n trong blockchain.</p>

<h2 id="káº¿t-luáº­n">Káº¿t luáº­n</h2>
<p>PoW lÃ  má»™t cÆ¡ cháº¿ Ä‘á»“ng thuáº­n Ä‘Æ°á»£c sá»­ dá»¥ng á»Ÿ nhiá»u blockchain khÃ¡c nhau, tuy nhiÃªn nÃ³ cÅ©ng mang láº¡i nhiá»u báº¥t lá»£i. Nhá»¯ng cÆ¡ cháº¿ Ä‘á»“ng thuáº­n khÃ¡c sáº½ Ä‘Æ°á»£c viáº¿t á»Ÿ nhá»¯ng bÃ i sau.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[Trong bÃ i viáº¿t ngÃ y hÃ´m nay, mÃ¬nh sáº½ nÃ³i kÄ© hÆ¡n vá» cáº¥u táº¡o cá»§a block trong blockchain vÃ  cÆ¡ cháº¿ Ä‘á»“ng thuáº­n PoW (Proof of Work).]]></summary></entry><entry><title type="html">KÄ© thuáº­t Blockchain</title><link href="http://localhost:4000/blog/2023/07/14/blockchain-technology" rel="alternate" type="text/html" title="KÄ© thuáº­t Blockchain" /><published>2023-07-14T00:00:00+07:00</published><updated>2023-07-14T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/14/blockchain-technology</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/14/blockchain-technology"><![CDATA[<p>Blockchain cung cáº¥p sá»± tin cÃ¢y cho nhiá»u bÃªn (mÃ  khÃ´ng cáº§n Ä‘áº¿n trung gian), Ä‘Ã¢y lÃ  á»©ng dá»¥ng cÃ³ thá»ƒ xem lÃ  máº¡nh máº½ nháº¥t cá»§a blockchain. DÆ°á»›i Ä‘Ã¢y, mÃ¬nh sáº½ viáº¿t sÃ¢u hÆ¡n vá» cÃ¡c kÄ© thuáº­t Ä‘Æ°á»£c sá»­ dá»¥ng trong blockchain.</p>

<h2 id="cÃ¡c-táº§ng-cá»§a-blockchain">CÃ¡c táº§ng cá»§a Blockchain</h2>
<p>Blockchain cÃ³ thá»ƒ chia thÃ nh cÃ¡c táº§ng chÃ­nh nhÆ° sau:</p>
<h4 id="application-layer">Application layer:</h4>
<p>Bao gá»“m cÃ¡c DApps, Smartcontract, cÃ¡c pháº§n má»m cháº¡y trÃªn Ä‘á»‰nh cÃ¡c network. ÄÃ¢y lÃ  táº§ng cho phÃ©p build cÃ¡c Apps vÃ  Service phá»¥c vá»¥ ngÆ°á»i dÃ¹ng.</p>

<h4 id="consensus-layer">Consensus layer:</h4>
<p>LÃ  táº§ng mÃ  cÃ¡c nodes Ä‘á»“ng Ã½ vá» tÃ­nh há»£p lá»‡ cá»§a cÃ¡c giao dá»‹ch, dá»±a trÃªn cÃ¡c cÆ¡ cháº¿ Ä‘á»“ng thuáº­n.</p>

<h4 id="network-layer">Network layer:</h4>
<p>LÃ  táº§ng mÃ  cÃ¡c nodes giao tiáº¿p vá»›i nhau (P2P). Táº§ng nÃ y phá»¥c vá»¥ viá»‡c káº¿t ná»‘i, lan truyá»n cÃ¡c Tx vÃ  phÃ¢n phá»‘i cÃ¡c dá»¯ liá»‡u trÃªn máº¡ng. ÄÃ¢y cÅ©ng lÃ  táº§ng mÃ  cÃ¡c block Ä‘Æ°á»£c táº¡o ra vÃ  thÃªm vÃ o chuá»—i.</p>

<h4 id="data-layer">Data layer:</h4>
<p>LÃ  táº§ng lÆ°u trá»¯ dá»¯ liá»‡u an toÃ n vÃ  báº¥t biáº¿n. CÃ¡c dá»¯ liá»‡u bao gá»“m sá»• cÃ¡i, cÆ¡ sá»Ÿ dá»¯ liá»‡u tráº¡ng thÃ¡i (Hash, Merkle Tree, Tx, Chá»¯ kÃ½,..).</p>

<h4 id="hardware-layer">Hardware layer:</h4>
<p>LÃ  táº§ng váº­t lÃ½, cÃ¡c thiáº¿t bá»‹ nhÆ° mÃ¡y tÃ­nh, servers, routers,â€¦</p>

<p>á» táº§ng Consensus, cÃ¡c nodes pháº£i Ä‘áº£m báº£o cÃ¡c tÃ­nh cháº¥t sau:</p>
<ul>
  <li>Persistence: Khi cÃ¡c Tx vÃ  block Ä‘Æ°á»£c thÃªm vÃ o chuá»—i, khÃ´ng thá»ƒ xoÃ¡ bá»</li>
  <li>Safety: CÃ¡c thÃ nh viÃªn tham gia (cÃ¡c nodes, ngÆ°á»i dÃ¹ng) Ä‘á»u cÃ³ chung 1 dá»¯ liá»‡u vá» sá»• cÃ¡i</li>
  <li>Liveness: cÃ¡c thÃ nh viÃªn Honest (khÃ´ng phÃ¡ hoáº¡i máº¡ng blockchain) thÃªm Ä‘Æ°á»£c cÃ¡c giao dá»‹ch</li>
  <li>Open: Ai cÅ©ng cÃ³ thá»ƒ thÃªm cÃ¡c giao dá»‹ch.</li>
</ul>

<p>CÃ¹ng vá»›i Ä‘Ã³, cÃ³ nhá»¯ng váº¥n Ä‘á» xáº£y ra á»Ÿ táº§ng Consensus nÃ y cáº§n giáº£i quyáº¿t Ä‘Ã³ chÃ­nh lÃ  viá»‡c Network delays, Network Partition, Crash, Malice,.. dáº«n Ä‘áº¿n danh sÃ¡ch cÃ¡c Tx cÃ³ thá»ƒ bá»‹ sai thá»© tá»±, khÃ´ng Ä‘áº§y Ä‘á»§,â€¦</p>

<h2 id="mÃ£-hoÃ¡">MÃ£ hoÃ¡</h2>
<p>HÃ m Hash H lÃ  má»™t hÃ m mÃ£ hoÃ¡ Ä‘Æ°á»£c sá»­ dá»¥ng vá»›i Ã½ nghÄ©a sau:
Vá»›i 2 táº­p há»£p M vÃ  T cÃ³:  <img src="https://latex.codecogs.com/svg.image?%5Cleft%7CM%5Cright%7C%5Cgg%5Cleft%7CT%5Cright%7C" alt="a" /> thÃ¬ hÃ m hash H: <img src="https://latex.codecogs.com/svg.image?%5Cleft%7CM%5Cright%7C%5Crightarrow%5Cleft%7CT%5Cright%7C" alt="a" />. VÃ­ dá»¥ khi input cÃ³ giÃ¡ trá»‹ lÃªn Ä‘áº¿n cáº£ megabyte, khi chuyá»ƒn qua hÃ m hash H sáº½ cÃ³ dáº¡ng 32 bytes. <img src="https://latex.codecogs.com/svg.image?%5CLeftrightarrow%20T=%5Cleft%5C%7B0,1%5Cright%5C%7D%5E%7B256%7D" alt="a" /></p>

<p>Má»™t hÃ m hash nhÆ° trÃªn gá»i lÃ  chá»‘ng trÃ¹ng láº·p náº¿u nhÆ° ráº¥t khÃ³ Ä‘á»ƒ tÃ¬m ra 1 cáº·p (x, y) âˆˆ M sao cho x â‰  y mÃ  H(x) = H(y). HÃ m nÃ y cÃ²n Ä‘Æ°á»£c gá»i lÃ  CRF (Collision Resistant Function).</p>

<h3 id="commit-dá»¯-liá»‡u-lÃªn-blockchain">Commit dá»¯ liá»‡u lÃªn blockchain</h3>
<p>Náº¿u user A cÃ³ file m:    <img src="https://latex.codecogs.com/svg.image?h=H(m)" alt="a" /> lÃ  cam káº¿t rÃ ng buá»™c cho m. Vá»›i má»™t danh sÃ¡ch <img src="https://latex.codecogs.com/svg.image?S=(m1,m2,...mn),h=commit(S)(h=H(S))" alt="a" />. 
Khi user B Ä‘á»c h, cho <img src="https://latex.codecogs.com/svg.image?(m_%7Bi%7D%5E%7B%7D,proof%5CPi%20_%7Bi%7D%5E%7B%7D)" alt="a" /> cÃ³ thá»ƒ kiá»ƒm tra xem S[i] cÃ³ báº±ng <img src="https://latex.codecogs.com/svg.image?m_%7Bi%7D%5E%7B%7D" alt="a" /> hay khÃ´ng.
Äiá»u nÃ y tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i khi cháº¡y hÃ m <img src="https://latex.codecogs.com/svg.image?verify(h,i,m_%7Bi%7D%5E%7B%7D,%5CPi%20_%7Bi%7D%5E%7B%7D)" alt="a" /> sáº½ ra 1 trong 2 káº¿t quáº£: accept/reject.</p>

<p>NgoÃ i ra, Ä‘á»ƒ Ä‘áº£m báº£m security, khÃ´ng thá»ƒ tÃ¬m Ä‘Æ°á»£c bá»™ <img src="https://latex.codecogs.com/svg.image?%5Csmall%20(S,i,m,%5CPi)" alt="a" /> mÃ  m â‰  S[i] vÃ  <img src="https://latex.codecogs.com/svg.image?verify(h,i,m_%7Bi%7D%5E%7B%7D,%5CPi%20_%7Bi%7D%5E%7B%7D)" alt="a" /> = accept.</p>

<h3 id="merkle-tree">Merkle Tree</h3>
<p>Má»¥c tiÃªu cá»§a Merkle tree lÃ  khi commit danh sÃ¡ch S á»Ÿ trÃªn, cÃ³ thá»ƒ chá»©ng minh Ä‘Æ°á»£c mi = S[i]. 
CÃ¢y merkle Ä‘Æ°á»£c xÃ¢y dá»±ng nhÆ° sau:</p>

<p>// Váº½ sau</p>

<p>CÃ¡c pháº§n tá»­, cha cá»§a chÃºng lÃ  H(nÃ³, sibling ká» nÃ³). VÃ­ dá»¥ y1 lÃ  H(m1, m2). BÃ¢y giá», vá»›i bÃ i toÃ¡n chá»©ng minh á»Ÿ trÃªn, vÃ­ dá»¥ cáº§n chá»©ng minh S[4] = m4, ta chá»‰ cáº§n set Proof = (m3, y1, y6).
LÃ½ do:</p>

<p><img src="https://latex.codecogs.com/svg.image?%5Csmall%20y2%5Cleftarrow%20H(m3,m4)%5C%5Cy5%5Cleftarrow%20H(y2,y1)%5C%5Ch'%5Cleftarrow%20H(y5,y6)." alt="a" /></p>

<p>Náº¿u h = hâ€™ thÃ¬ accept. Khi muá»‘n post 1 block vÃ o trong chain, cáº§n viáº¿t commit(S) vÃ o. Merkle tree Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»©ng minh má»™t Tx cÃ³ á»Ÿ trong block.</p>

<h2 id="chá»¯-kÃ­-sá»‘">Chá»¯ kÃ­ sá»‘.</h2>
<p>LÃ m cÃ¡ch nÃ o mÃ  cÃ¡c nodes cÃ³ thá»ƒ xÃ¡c thá»±c Ä‘Æ°á»£c cÃ¡c Tx? Thá»±c táº¿, Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cáº§n 3 thuáº­t toÃ¡n:</p>
<ul>
  <li>Gen(): táº¡o ra cáº·p key  (pK, sK) cho user.</li>
  <li>Sign(sK, msg): ngÆ°á»i gá»­i kÃ­ secretKey vá»›i msg há» muá»‘n gá»­i. Output: lÃ  1 sig: Ïƒ</li>
  <li>Verify(pK, msg, Ïƒ). Output: accept / reject</li>
</ul>

<p>Khi táº¡o ra cÃ¡c Tx, user Ä‘Æ°a Sk + msg Ä‘á»ƒ táº¡o ra chá»¯ kÃ­ Ïƒ. CÃ¡c verifier sáº½ sá»­ dá»¥ng pK, msg vÃ  Ïƒ Ä‘á»ƒ verify cÃ¡c Tx. Viá»‡c sá»­ dá»¥ng chá»¯ kÃ­ sá»‘ nÃ y giÃºp Ä‘áº£m báº£o uá»· quyá»n Tx, kháº£ nÄƒng báº§u cá»­ vÃ  sá»± Ä‘á»“ng thuáº­n bá» phiáº¿u cá»§a user.</p>

<h2 id="táº¡m-káº¿t">Táº¡m káº¿t</h2>
<p>á» pháº§n nÃ y lÃ  nhá»¯ng kÄ© thuáº­t phá»• biáº¿n Ä‘Æ°á»£c sá»­ dá»¥ng trong blockchain. Trong bÃ i tiáº¿p theo, mÃ¬nh sáº½ Ä‘i sÃ¢u vá» cáº¥u táº¡o cá»§a tá»«ng khá»‘i vÃ  cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a PoW.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[Blockchain cung cáº¥p sá»± tin cÃ¢y cho nhiá»u bÃªn (mÃ  khÃ´ng cáº§n Ä‘áº¿n trung gian), Ä‘Ã¢y lÃ  á»©ng dá»¥ng cÃ³ thá»ƒ xem lÃ  máº¡nh máº½ nháº¥t cá»§a blockchain. DÆ°á»›i Ä‘Ã¢y, mÃ¬nh sáº½ viáº¿t sÃ¢u hÆ¡n vá» cÃ¡c kÄ© thuáº­t Ä‘Æ°á»£c sá»­ dá»¥ng trong blockchain.]]></summary></entry><entry><title type="html">Tá»•ng quan vá» Blockchain</title><link href="http://localhost:4000/blog/2023/07/14/tong-quan-ve-blockchain" rel="alternate" type="text/html" title="Tá»•ng quan vá» Blockchain" /><published>2023-07-14T00:00:00+07:00</published><updated>2023-07-14T00:00:00+07:00</updated><id>http://localhost:4000/blog/2023/07/14/tong-quan-ve-blockchain</id><content type="html" xml:base="http://localhost:4000/blog/2023/07/14/tong-quan-ve-blockchain"><![CDATA[<p>Blockchain lÃ  má»™t xu tháº¿ Ä‘ang khÃ¡ ná»•i á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i. Theo nhá»¯ng gÃ¬ mÃ¬nh tÃ¬m hiá»ƒu vÃ  há»c há»i Ä‘Æ°á»£c, Ä‘Ã¢y lÃ  nhá»¯ng chia sáº» tá»•ng quan cá»§a mÃ¬nh vá» blockchain</p>

<h2 id="blockchain-lÃ -gÃ¬">Blockchain lÃ  gÃ¬</h2>
<p>Blockchain lÃ  má»™t sá»• cÃ¡i sá»‘ phi táº­p chung ghi láº¡i cÃ¡c dá»¯ liá»‡u giao dá»‹ch má»™t cÃ¡ch an toÃ n, Ä‘Æ°á»£c duy trÃ¬ bá»Ÿi cÃ¡c mÃ¡y tÃ­nh chuyÃªn dá»¥ng trÃªn máº¡ng (hay gá»i lÃ  cÃ¡c nodes). NÃ³ Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n báº¥t biáº¿n thÃ´ng qua cÆ¡ cháº¿ mÃ£ hoÃ¡ vÃ  Ä‘á»“ng thuáº­n. Khi má»™t giao dá»‹ch Ä‘Ã£ Ä‘Æ°á»£c record, nÃ³ sáº½ khÃ´ng thá»ƒ bá»‹ thay Ä‘á»•i.</p>

<p>NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, blockchain nhÆ° má»™t loáº¡i cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘áº·c biá»‡t, Ä‘Æ°á»£c duy trÃ¬ phi táº­p trung bá»Ÿi nhiá»u mÃ¡y tÃ­nh phÃ¢n bá»• kháº¯p tháº¿ giá»›i. NgoÃ i ra, dá»¯ liá»‡u trÃªn tá»«ng block sáº¯p xáº¿p theo trÃ¬nh tá»± thá»i gian, vÃ  báº£o máº­t báº±ng máº­t mÃ£ Ä‘á»ƒ trÃ¡nh bá»‹ lÃ m giáº£ dá»¯ liá»‡u</p>

<h2 id="sá»±-phi-táº­p-trung-trong-blockchain">Sá»± phi táº­p trung trong blockchain</h2>
<p>Trong Blockchain, quyá»n quyáº¿t Ä‘á»‹nh vÃ  Ä‘iá»u khiá»ƒn cá»§a máº¡ng lÆ°á»›i thÃ¬ phÃ¢n bá»• cho cÃ¡c user thay vÃ¬ táº­p trung táº¡i 1 user hoáº·c 1 tá»• chá»©c. CÃ¡c giao dá»‹ch (Tx) Ä‘Æ°á»£c verified vÃ  ghi vÃ o máº¡ng mÃ¡y tÃ­nh phÃ¢n tÃ¡n hoáº¡t Ä‘á»™ng cÃ¹ng nhau Ä‘á»ƒ duy trÃ¬ tÃ­nh toÃ n váº¹n.</p>

<p>á» trong core, blockchain lÆ°u giao dá»‹ch giá»¯a 2 bÃªn. Khi 1 user gá»­i 1 Tx, nÃ³ Ä‘Æ°á»£c truyá»n Ä‘i kháº¯p máº¡ng lÆ°á»›i. CÃ¡c nodes xÃ¡c minh giao dá»‹ch báº±ng xÃ¡c minh chá»¯ kÃ­ sá»‘ (Digital Signature) vÃ  cÃ¡c thÃ´ng tin khÃ¡c. Khi giao dá»‹ch Ä‘Æ°á»£c xÃ¡c minh, nÃ³ sáº½ cÃ¹ng vá»›i cÃ¡c Tx khÃ¡c Ä‘Æ°á»£c thÃªm vÃ o block. CÃ¡c block sáº½ liÃªn káº¿t vá»›i nhau báº±ng phÆ°Æ¡ng phÃ¡p mÃ£ hoÃ¡, táº¡o thÃ nh chuá»—i. QuÃ¡ trÃ¬nh xÃ¡c minh vÃ  thÃªm vÃ o chuá»—i sáº½ Ä‘Æ°á»£c thÃ´ng qua cÆ¡ cháº¿ Ä‘á»“ng thuáº­n.</p>

<h2 id="cÆ¡-cháº¿-Ä‘á»“ng-thuáº­n-vÃ -mÃ£-hoÃ¡">CÆ¡ cháº¿ Ä‘á»“ng thuáº­n vÃ  mÃ£ hoÃ¡</h2>
<p>CÆ¡ cháº¿ Ä‘á»“ng thuáº­n lÃ  táº­p há»£p cÃ¡c quy táº¯c chi phá»‘i cÃ¡c node cÃ³ Ä‘á»“ng thuáº­n vá» tráº¡ng thÃ¡i cá»§a chuá»—i hiá»‡n táº¡i vÃ  tÃ­nh há»£p lá»‡ cá»§a giao dá»‹ch hay khÃ´ng. Äiá»u nÃ y Ä‘áº£m báº£o cÃ¡c nodes trong máº¡ng sáº½ Ä‘á»u cÃ³ báº£n copy Ä‘áº§u Ä‘á»§ cá»§a sá»• cÃ¡i.</p>

<p>MÃ£ hoÃ¡ lÃ  chÃ¬a khoÃ¡ duy trÃ¬ báº£o máº­t, minh báº¡ch vÃ  chá»‘ng giáº£ máº¡o cá»§a blockchain. CÃ³ 2 cÃ¡ch mÃ£ hoÃ¡ chÃ­nh Ä‘Æ°á»£c sá»­ dá»¥ng lÃ  Hash vÃ  cáº·p khoÃ¡. Vá»›i Hash, lÃ  hÃ m khÃ´ng thá»ƒ Ä‘áº£o ngÆ°á»£c, giÃºp chuyá»ƒn 1 input á»Ÿ 1 size báº¥t kÃ¬ sang 1 size cá»‘ Ä‘á»‹nh. Má»—i khá»‘i trong chuá»—i chá»©a hash cá»§a khá»‘i liá»n trÆ°á»›c nÃ³, nÃªn khi muá»‘n thay Ä‘á»•i 1 khá»‘i thÃ¬ cáº§n pháº£i thay Ä‘á»•i cÃ¡c khá»‘i tiáº¿p theo. Äiá»u nÃ y giÃºp giáº£m kháº£ nÄƒng bá»‹ thay Ä‘á»•i cá»§a khá»‘i xuá»‘ng cÃ²n ráº¥t nhá». NgÆ°á»i dÃ¹ng cÃ³ 1 cáº·p khoÃ¡ Secret - Public cá»§a mÃ¬nh. Khi táº¡o 1 Tx, ngÆ°á»i Ä‘Ã³ sá»­ dá»¥ng Secret key Ä‘á»ƒ kÃ­ vÃ  táº¡o chá»¯ kÃ­ sá»‘. Nhá»¯ng ngÆ°á»i khÃ¡c xÃ¡c nháº­n tÃ­nh xÃ¡c thá»±c cá»§a Tx nÃ y báº±ng cÃ¡ch Ã¡p dá»¥ng Public key cá»§a ngÆ°á»i gá»­i.</p>

<h2 id="crypto-currency">Crypto Currency</h2>
<p>Tiá»n Ä‘iá»‡n tá»­ (Tiá»n mÃ£ hoÃ¡) lÃ  1 loáº¡i tiá»n kÄ© thuáº­t sá»‘ phi táº­p trung, sá»­ dá»¥ng máº­t mÃ£ Ä‘á»ƒ báº£o máº­t. NÃ³ cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng Ä‘á»™c láº­p vá»›i cÃ¡c trung gian nhÆ° ngÃ¢n hÃ ng, cá»•ng thanh toÃ¡n,..
Viá»‡c phi táº­p trung táº¡o Ä‘iá»u kiá»‡n thuáº­n lá»£i cho cÃ¡c giao dá»‹ch ngang hÃ ng (P2P) giá»¯a cÃ¡c cÃ¡ nhÃ¢n thÃ´ng qua cÃ¡c vÃ­ Ä‘iá»‡n tá»­ hoáº·c sÃ n giao dá»‹ch.
CÃ¡c tiá»n Ä‘iá»‡n tá»­ luÃ´n náº±m trong blockchain. Trong trÆ°á»ng há»£p cÃ¡c sÃ n giao dá»‹ch, nÃ³ chá»©a Secret key cho phÃ©p ngÆ°á»i dÃ¹ng truy cáº­p vÃ o cÃ¡c tiá»n Ä‘Ã³.</p>

<h3 id="crypto-currency-hoáº¡t-Ä‘á»™ng-nhÆ°-tháº¿-nÃ o-">Crypto Currency hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o ?</h3>
<p>Crypto Currency sá»­ dá»¥ng thuáº­t toÃ¡n toÃ¡n há»c tiÃªn tiáº¿n Ä‘á»ƒ báº£o máº­t cÃ¡c giao dá»‹ch vÃ  báº£o vá»‡ dá»¯ liá»‡u khá»i bá»‹ truy cáº­p hoáº·c thao tÃ¡c trÃ¡i phÃ©p. CÃ¡c thuáº­t toÃ¡n phá»¥c vá»¥ 2 chá»©c nÄƒng chÃ­nh lÃ : Duy trÃ¬ quyá»n riÃªng tÆ° cá»§a ngÆ°á»i dÃ¹ng vÃ  xÃ¡c minh tÃ­nh xÃ¡c thá»±c cá»§a Tx.</p>

<p>Crypto whitepaper lÃ  má»™t document mÃ´ táº£ chi tiáº¿t kÃ¨m cÃ¡c thÃ´ng sá»‘ kÄ© thuáº­t vá» 1 dá»± Ã¡n blockchain. CÃ¡c thÃ´ng tin nÃ³ bao gá»“m ráº¥t Ä‘a dáº¡ng, cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: project goals, works, tech, roadmap,â€¦</p>

<h3 id="stable-coin">Stable coin</h3>
<p>Má»™t loáº¡i tiá»n Ä‘iá»‡n tá»­ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ duy trÃ¬ má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh. NÃ³ cÃ³ thá»ƒ trace giÃ¡ trá»‹ tiá»n tá»‡ fiat (tiá»n tá»‡ Ä‘Æ°á»£c cÃ¡c nÆ°á»›c sá»­ dá»¥ng chÃ­nh thá»©c) hoáº·c cÃ¡c loáº¡i tÃ i sáº£n khÃ¡c.</p>

<h2 id="smartcontract">SmartContract</h2>
<p>Há»£p Ä‘á»“ng thÃ´ng minh lÃ  má»™t thoáº£ thuáº­n kÄ© thuáº­t sá»‘ Ä‘Æ°á»£c láº­p trÃ¬nh vÃ  lÆ°u trá»¯ trong blockchain, tá»± váº­n hÃ nh khÃ´ng cáº§n trung gian. NÃ³ cÃ³ tÃ­nh báº£o máº­t, minh báº¡ch, cung cáº¥p cho ngÆ°á»i dÃ¹ng sá»± tá»± do trao Ä‘á»•i, an toÃ n, khi triá»ƒn khai cÃ¡c giao dá»‹ch. Há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c xem lÃ  xÆ°Æ¡ng sá»‘ng cá»§a cÃ¡c DApps.
Báº¥t cá»© ai truy cáº­p vÃ o blockchain cÃ³ thá»ƒ gá»i SmartContract vÃ  tÆ°Æ¡ng tÃ¡c vá»›i nÃ³.</p>

<h2 id="dapp">DApp</h2>
<p>Decentralized Application (DApp) lÃ  á»©ng dá»¥ng phi táº­p trung Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn cÃ¡c ná»n táº£ng blockchain. CÃ¡c á»©ng dá»¥ng nÃ y sá»­ dá»¥ng SmartContract, vÃ  hoáº¡t Ä‘á»™ng khÃ´ng cáº§n sá»± can thiá»‡p cá»§a báº¥t kÃ¬ bÃªn trung gian nÃ o. Vá»›i DApp, má»i thá»© Ä‘á»u Ä‘Æ°á»£c mÃ£ hoÃ¡, báº¥t biáº¿n, an toÃ n, báº£o máº­t vÃ  khÃ´ng ai cÃ³ quyá»n thay Ä‘á»•i, lá»«a Ä‘áº£o, gian láº­n.</p>

<h2 id="nodes">Nodes</h2>
<p>LÃ  cÃ¡c moderators xÃ¢y dá»±ng cÆ¡ sá»Ÿ cho máº¡ng phi táº­p trung. NÃ³ lÆ°u trá»¯ báº£n copy cá»§a sá»• cÃ¡i, Ä‘Æ°á»£c Ä‘á»“ng bá»™ hoÃ¡ vÃ  láº­p trÃ¬nh Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c giao dá»‹ch theo sá»± Ä‘á»“ng thuáº­n cá»§a Ä‘a sá»‘. CÃ¡c nodes cÃ³ thá»ƒ lÃ  cÃ¡c mÃ¡y tÃ­nh, router,â€¦</p>

<h2 id="táº¡m-káº¿t">Táº¡m Káº¿t</h2>
<p>ÄÃ¢y chá»‰ lÃ  nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n vá» blockchain. á» bÃ i sau, mÃ¬nh sáº½ Ä‘i sÃ¢u vÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»¥ thá»ƒ cá»§a Blockchain.</p>]]></content><author><name>vanhg</name></author><summary type="html"><![CDATA[Blockchain lÃ  má»™t xu tháº¿ Ä‘ang khÃ¡ ná»•i á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i. Theo nhá»¯ng gÃ¬ mÃ¬nh tÃ¬m hiá»ƒu vÃ  há»c há»i Ä‘Æ°á»£c, Ä‘Ã¢y lÃ  nhá»¯ng chia sáº» tá»•ng quan cá»§a mÃ¬nh vá» blockchain]]></summary></entry></feed>