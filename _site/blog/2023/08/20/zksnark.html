<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hiimvanhg</title>
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/post.css">
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Quyá»n riÃªng tÆ° trÃªn blockchain vÃ  Zk-SNARK</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Quyá»n riÃªng tÆ° trÃªn blockchain vÃ  Zk-SNARK" />
<meta name="author" content="vanhg" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Trong há»‡ thá»‘ng tÃ i chÃ­nh, viá»‡c riÃªng tÆ° lÃ  Ä‘iá»u cáº§n thiáº¿t. Má»™t vÃ i vÃ­ dá»¥ nhÆ°: Má»™t nhÃ  sáº£n xuáº¥t khÃ´ng muá»‘n tiáº¿t lá»™ sá»‘ tiá»n há» tráº£ cho nhÃ  cung cáº¥p cá»§a mÃ¬nh cho cÃ¡c bá»™ pháº­n, NgÆ°á»i dÃ¹ng cuá»‘i cáº§n quyá»n riÃªng tÆ° Ä‘á»ƒ thuÃª, quyÃªn gÃ³p, mua hÃ ng,â€¦ Do Ä‘Ã³, blockchain khÃ´ng thá»ƒ phÃ¡t huy háº¿t tiá»m nÄƒng náº¿u khÃ´ng cÃ³ má»™t sá»‘ Tx riÃªng tÆ°." />
<meta property="og:description" content="Trong há»‡ thá»‘ng tÃ i chÃ­nh, viá»‡c riÃªng tÆ° lÃ  Ä‘iá»u cáº§n thiáº¿t. Má»™t vÃ i vÃ­ dá»¥ nhÆ°: Má»™t nhÃ  sáº£n xuáº¥t khÃ´ng muá»‘n tiáº¿t lá»™ sá»‘ tiá»n há» tráº£ cho nhÃ  cung cáº¥p cá»§a mÃ¬nh cho cÃ¡c bá»™ pháº­n, NgÆ°á»i dÃ¹ng cuá»‘i cáº§n quyá»n riÃªng tÆ° Ä‘á»ƒ thuÃª, quyÃªn gÃ³p, mua hÃ ng,â€¦ Do Ä‘Ã³, blockchain khÃ´ng thá»ƒ phÃ¡t huy háº¿t tiá»m nÄƒng náº¿u khÃ´ng cÃ³ má»™t sá»‘ Tx riÃªng tÆ°." />
<link rel="canonical" href="http://localhost:4000/blog/2023/08/20/zksnark" />
<meta property="og:url" content="http://localhost:4000/blog/2023/08/20/zksnark" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-08-20T00:00:00+07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Quyá»n riÃªng tÆ° trÃªn blockchain vÃ  Zk-SNARK" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"vanhg"},"dateModified":"2023-08-20T00:00:00+07:00","datePublished":"2023-08-20T00:00:00+07:00","description":"Trong há»‡ thá»‘ng tÃ i chÃ­nh, viá»‡c riÃªng tÆ° lÃ  Ä‘iá»u cáº§n thiáº¿t. Má»™t vÃ i vÃ­ dá»¥ nhÆ°: Má»™t nhÃ  sáº£n xuáº¥t khÃ´ng muá»‘n tiáº¿t lá»™ sá»‘ tiá»n há» tráº£ cho nhÃ  cung cáº¥p cá»§a mÃ¬nh cho cÃ¡c bá»™ pháº­n, NgÆ°á»i dÃ¹ng cuá»‘i cáº§n quyá»n riÃªng tÆ° Ä‘á»ƒ thuÃª, quyÃªn gÃ³p, mua hÃ ng,â€¦ Do Ä‘Ã³, blockchain khÃ´ng thá»ƒ phÃ¡t huy háº¿t tiá»m nÄƒng náº¿u khÃ´ng cÃ³ má»™t sá»‘ Tx riÃªng tÆ°.","headline":"Quyá»n riÃªng tÆ° trÃªn blockchain vÃ  Zk-SNARK","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2023/08/20/zksnark"},"url":"http://localhost:4000/blog/2023/08/20/zksnark"}</script>
<!-- End Jekyll SEO tag -->

  </head>
  <body>
    <div class="header">
  <div class = "tab_container">
      
        <a href="/" 
        
        class = "tab_btn">
        Home
        </a>
      
        <a href="/about.html" 
        
        class = "tab_btn">
        About
        </a>
      
        <a href="/blog.html" 
        
        class = "tab_btn">
        Blog
        </a>
      
        <a href="/staff.html" 
        
        class = "tab_btn">
        Staff
        </a>
      
  </div>
</div>

    <div class = "default_content">
        <h1 class = "post_title">Quyá»n riÃªng tÆ° trÃªn blockchain vÃ  Zk-SNARK</h1>
        <p class = "post_detail">
            vanhg - 20 Aug 2023 
        </p>
        <div class = "img_container">
            <img src =  class = "post_img">
        </div>
        <div class = "post_content">
          <p>Trong há»‡ thá»‘ng tÃ i chÃ­nh, viá»‡c riÃªng tÆ° lÃ  Ä‘iá»u cáº§n thiáº¿t. Má»™t vÃ i vÃ­ dá»¥ nhÆ°: Má»™t nhÃ  sáº£n xuáº¥t khÃ´ng muá»‘n tiáº¿t lá»™ sá»‘ tiá»n há» tráº£ cho nhÃ  cung cáº¥p cá»§a mÃ¬nh cho cÃ¡c bá»™ pháº­n, NgÆ°á»i dÃ¹ng cuá»‘i cáº§n quyá»n riÃªng tÆ° Ä‘á»ƒ thuÃª, quyÃªn gÃ³p, mua hÃ ng,â€¦ Do Ä‘Ã³, blockchain khÃ´ng thá»ƒ phÃ¡t huy háº¿t tiá»m nÄƒng náº¿u khÃ´ng cÃ³ má»™t sá»‘ Tx riÃªng tÆ°.</p>

<h2 id="sá»±-riÃªng-tÆ°-trong-cÃ¡c-blockchain">Sá»± riÃªng tÆ° trong cÃ¡c blockchain</h2>
<ul>
  <li>Vá»›i Ethereum, má»i sá»‘ dÆ° Ä‘á»u cÃ´ng khai. Trong cÃ¡c DApps, code vÃ  state cÅ©ng cÃ´ng khai cho ngÆ°á»i dÃ¹ng. NgoÃ i ra, cÃ¡c Tx cÅ©ng ná»‘i Ä‘áº¿n cÃ¡c account.</li>
  <li>Vá»›i Bitcoin, dá»¯ liá»‡u Tx cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ káº¿t ná»‘i 1 Ä‘á»‹a chá»‰ tá»›i 1 Ä‘á»‹nh danh váº­t lÃ½.</li>
</ul>

<h2 id="tx-riÃªng-tÆ°-trÃªn-blockchain-cÃ´ng-khai">Tx riÃªng tÆ° trÃªn blockchain cÃ´ng khai</h2>
<p>ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng commitments vÃ  zero knowledge proof Ä‘á»ƒ lÃ m Ä‘iá»u nÃ y.</p>

<p><strong> Committed data </strong>: cam káº¿t ngáº¯n (áº©n) á»Ÿ trÃªn chuá»—i.
<strong> Proof ğ… </strong>: succinct Zero knowledge (Zk) proof:</p>
<ul>
  <li>Committed Tx data nháº¥t quÃ¡n vá»›i tráº¡ng thÃ¡i commited hiá»‡n táº¡i.</li>
  <li>Committed update state thÃ¬ Ä‘Ãºng. Tá»« Ä‘Ã³, ai cÅ©ng cÃ³ thá»ƒ xÃ¡c thá»±c ğ….</li>
</ul>

<p>Minh hoáº¡: ///</p>

<h3 id="review-commitment">Review: Commitment</h3>
<p>ÄÆ°á»£c sá»­ dá»¥ng vá»›i nhiá»u má»¥c Ä‘Ã­ch, vÃ­ dá»¥ Äáº¥u giÃ¡ kÃ­n. NgÆ°á»i tham gia cam káº¿t giÃ¡, sau khi háº¿t thá»i gian thÃ¬ má»i ngÆ°á»i sáº½ má»Ÿ cam káº¿t cá»§a há». <br />
<strong> CÃº phÃ¡p </strong> 2 thuáº­t toÃ¡n: <br /></p>
<ul>
  <li>commit(msg, r) -&gt; com.  r lÃ  randombit, com lÃ  string ngáº¯n</li>
  <li>verify(msg, com, r) -&gt; reject / accept.</li>
</ul>

<h3 id="tÃ­nh-báº£o-máº­t">TÃ­nh báº£o máº­t</h3>
<p><strong> Binding </strong>: KhÃ´ng thá»ƒ táº¡o 2 valid openings cho com. <br />
Tá»©c lÃ : táº¡o ra com, (m1, r1), (m2, r2) mÃ :</p>
<ul>
  <li>verify(m1, com, r1) = accept. VÃ </li>
  <li>verify(m2, com, r2) = accept vá»›i m1 â‰  m2.</li>
</ul>

<p><strong> Hiding </strong>: Com khÃ´ng tiáº¿t lá»™ gÃ¬ vá» data Ä‘Ã£ committed. Tá»©c lÃ  com sáº½ Ä‘á»™c láº­p vá»›i m.</p>

<h2 id="zk-snark-lÃ -gÃ¬">zk-SNARK lÃ  gÃ¬?</h2>
<h3 id="cÃ¡c-khÃ¡i-niá»‡m">CÃ¡c khÃ¡i niá»‡m</h3>
<p>Äá»ƒ verify 1 Tx, Validator cáº§n pháº£i xem thÃ´ng tin trong Tx Ä‘Ã³ vÃ  kiá»ƒm tra xem cÃ³ thoáº£ mÃ£n khÃ´ng. NhÆ°ng náº¿u cÃ¡c Tx lÃ  private thÃ¬ Validator sáº½ kiá»ƒm tra nhÆ° tháº¿ nÃ o? LÃºc nÃ y, zk-SNARK Ä‘Æ°á»£c ra Ä‘á»i.</p>

<p><strong> SNARK </strong>: lÃ  1 proof ngáº¯n gá»n Ä‘á»ƒ chá»©ng minh 1 statement lÃ  Ä‘Ãºng. NgoÃ i ra, nÃ³ cáº§n nhanh Ä‘á»ƒ xÃ¡c thá»±c bá»Ÿi ngÆ°á»i xÃ¡c thá»±c. <br />
VÃ­ dá»¥: statement: â€œTÃ´i biáº¿t má»™t m mÃ  SHA256(m) = 0â€.
<strong> zk-SNARK </strong>: lÃ  SNARK khÃ´ng tiáº¿t lá»™ gÃ¬ vá» ná»™i dung. VÃ­ dá»¥ trong statement kia thÃ¬ zk-SNARK sáº½ khÃ´ng tiáº¿t lá»™ gÃ¬ vá» giÃ¡ trá»‹ cá»§a m.</p>

<p>á»¨ng dá»¥ng:</p>
<ul>
  <li>Private Tx</li>
  <li>zkBrigde: ná»‘i cÃ¡c chuá»—i khá»‘i</li>
  <li>tÃ­nh riÃªng tÆ° trong zk-Rollups</li>
</ul>

<h3 id="kÄ©-thuáº­t-zk-snark">KÄ© thuáº­t zk-SNARK</h3>

<h4 id="arithmetic-circuits-ac">Arithmetic Circuits (AC)</h4>
<p>Cho 1 trÆ°á»ng há»¯u háº¡n:  ğ”½={0, â€¦, ğ‘âˆ’1} vá»›i p lÃ  sá»‘ nguyÃªn tá»‘ &gt; 2. <br />
Arithmetic Circuit: C: ğ”½^ğ‘› â‡¾ ğ”½. <br />
C láº¥y input lÃ  list gá»“m n pháº§n tá»­ thuá»™c F, output lÃ  1 pháº§n tá»­ thuá»™c F. <br />
|C| = sá»‘ gates trong máº¡ch C.
// minh hoáº¡</p>

<p><strong> VÃ­ dá»¥: </strong></p>
<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>C_hash(h, m) = 0 náº¿u SHA256(m) = h, â‰ 0 náº¿u ngÆ°á»£c láº¡i.</td>
          <td>C_hash</td>
          <td>~ 20K gates</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>C_sig(pk, msg, Ïƒ) = 0 náº¿u chá»¯ kÃ­ Ïƒ lÃ  há»£p lá»‡ trÃªn msg vá»›i pk.</li>
</ul>

<h4 id="argument-system">Argument System</h4>
<p>Cho má»™t AC: C(x, w) -&gt; F vá»›i:</p>
<ul>
  <li>x: lÃ  statement cÃ´ng khai</li>
  <li>w: secret witness.</li>
</ul>

<p>Prover P cáº§n thuyáº¿t phá»¥c cÃ¡c Verifier V ráº±ng tá»“n táº¡i w mÃ  C(x, w) = 0 nhÆ°ng khÃ´ng muá»‘n gá»­i w vÃ¬ lÃ½ do báº£o máº­t.</p>

<p>CÃ³ 2 loáº¡i argument systems: Interactive vs Non-interactives.</p>
<ul>
  <li>Interactive: P &lt;-&gt; V tÆ°Æ¡ng tÃ¡c vá»›i nhau nhiá»u láº§n Ä‘á»ƒ V Ä‘á»“ng Ã½. CÃ¡ch nÃ y chá»‰ Ã¡p dá»¥ng vá»›i há»‡ thá»‘ng cÃ³ Ã­t V.</li>
  <li>Non-interactive: P chá»‰ gá»­i duy nháº¥t 1 msg lÃ  proof cho V. CÃ¡ch nÃ y cÃ³ Ã­ch khi cÃ³ nhiá»u Verifier (VÃ­ dá»¥ nhiá»u Validator muá»‘n xÃ¡c thá»±c 1 Tx).</li>
</ul>

<h4 id="nark-non-interactive-argument-of-knowledge">NARK: Non-interactive Argument of Knowledge</h4>
<p>Vá»›i máº¡ch C(x, w) â‡¾  ğ”½. <br />
<strong> Preprocessing </strong>: S(C) â‡¾ public parameters(Sp, Sv).</p>

<p>Minh hoáº¡:</p>

<p>Má»™t preprocessing NARK lÃ  bá»™ 3 (S, P, V):</p>
<ul>
  <li>S(C) â‡¾ public parameters(Sp, Sv).</li>
  <li>P(Sp, x, w) â‡¾  proof  ğœ‹</li>
  <li>V(ğ‘£ğ‘, ğ’™, ğ…)  â‡¾  accept / reject</li>
</ul>

<p><strong> YÃªu cáº§u </strong></p>
<ul>
  <li>Complete: âˆ€ğ‘¥, ğ‘¤:  ğ¶(ğ’™, ğ’˜) = 0 â‡’ Pr[ V(ğ‘£ğ‘, ğ‘¥, P(ğ‘ğ‘, ğ’™, ğ’˜)) = accept] = 1.</li>
  <li>Argument of knowledge: V accepts â‡’ P biáº¿t ğ‘¤</li>
  <li>Zero knowledge: (ğ¶, ğ‘ğ‘,ğ‘£ğ‘ ,ğ’™, ğœ‹)  khÃ´ng tiáº¿t lá»™ gÃ¬ vá» ğ’˜</li>
</ul>

<p><strong> Succinct </strong>
Má»™t NARK gá»i lÃ  SNARK khi viá»‡c táº¡o ra vÃ  xÃ¡c minh proof vá»›i thá»i gian nhanh:</p>
<ul>
  <li>S(ğ¶)  â‡¾  public parameters  (Sğ‘, Sğ‘£)</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>P(ğ‘ğ‘, ğ’™, ğ’˜)  â‡¾  short proof  ğœ‹;</td>
          <td>ğœ‹</td>
          <td>=ğ‘‚_ğœ†(ğ¥ğ¨ğ â¡(</td>
          <td>ğ‘ª</td>
          <td>))</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>V(ğ‘£ğ‘, ğ’™, ğ…)    nhanh Ä‘á»ƒ tháº©m Ä‘á»‹nh:    time(V) = ğ‘‚_ğœ† (</td>
          <td>ğ‘¥</td>
          <td>, ğ¥ğ¨ğ â¡(</td>
          <td>ğ‘ª</td>
          <td>)).</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Do Ä‘Ã³, vá»›i SNARK thÃ¬ viá»‡c Ä‘á»c toÃ n bá»™ máº¡ch C lÃ  khÃ´ng ká»‹p thá»i gian. VÃŒ váº­y cáº§n bÆ°á»›c preprocessing.</p>

<p><strong> TÃ³m láº¡i: </strong></p>
<ul>
  <li>SNARK: bá»™ (S, P, V) thoáº£ mÃ£n: Complete, Argument of knowledge, Succinct.</li>
  <li>zk-SNARK: SNARK cÃ³ zero knowledge.</li>
</ul>

<h4 id="cÃ¡c-loáº¡i-preprocessing">CÃ¡c loáº¡i Preprocessing</h4>
<ul>
  <li>trusted setup per circuit: S(C) sá»­ dá»¥ng data bÃ­ máº­t (VÃ­ dá»¥: randombit r).</li>
  <li>trusted but universal: Randombit r Ä‘á»™c láº­p khá»i C: <br />
  S = (S_init, S_index) vá»›i:
    <ul>
      <li>ğ‘†_ğ‘–ğ‘›ğ‘–ğ‘¡ (ğœ†;ğ‘Ÿ) â‡¾ U: 1 láº§n duy nháº¥t.</li>
      <li>ğ‘†_ğ‘–ğ‘›ğ‘‘ğ‘’ğ‘¥ (U,ğ¶) â‡¾ (Sğ‘, Sğ‘£): KhÃ´ng chá»©a secret data.</li>
    </ul>
  </li>
</ul>

<h4 id="argurment-of-knowledge">Argurment of knowledge</h4>
<p>P biáº¿t w náº¿u w cÃ³ thá»ƒ Ä‘Æ°á»£c extracted tá»« P. <br />
Bá»™ 3 (S, P, V) lÃ  Argurment of knowledge vá»›i máº¡ch C náº¿u:</p>
<ul>
  <li>A = (A0, A1) lÃ  adversary mÃ  cÃ³ thá»ƒ bá»‹ extracted thÃ´ng tin:
    <ul>
      <li>S(C) â‡¾ (Sp, Sv),  A0(Sp) â‡¾ (x, st)</li>
      <li>ğœ‹ â‡½ A1(ğ‘ğ‘, ğ‘¥, st):   Pr[V(vp, ğ‘¥, ğœ‹) = accept] &gt; 1/10^6	(khÃ´ng Ä‘Ã¡ng ká»ƒ )</li>
    </ul>
  </li>
  <li>CÃ³ extractor E (sá»­ dá»¥ng A1 lÃ  blackbox) vÃ  táº¡o ra Ä‘Æ°á»£c w báº±ng tÆ°Æ¡ng tÃ¡c vá»›i A1(Sp, x, st).</li>
</ul>

<h4 id="zero-knowledge">Zero knowledge</h4>
<p>Proof ğœ‹ khÃ´ng tiáº¿t lá»™ vá» ğ’˜ náº¿u Verifier tá»± táº¡o ğœ‹, hay Verifier khÃ´ng há»c Ä‘Æ°á»£c gÃ¬ tá»« proof ğœ‹. <br />
<strong> Tá»©c lÃ : </strong></p>
<ul>
  <li>Tá»“n táº¡i 1 hÃ m Sim() sao cho: (Sğ‘, Sğ‘£, ğœ‹) â‡½ Sim(ğ¶,ğ‘¥). Hay Sim() cÃ³ thá»ƒ táº¡o ra proof ğœ‹ mÃ  khÃ´ng cáº§n w.</li>
</ul>

<h2 id="lá»i-káº¿t">Lá»i káº¿t</h2>
<p>á» trÃªn lÃ  sÆ¡ lÆ°á»£c vá» tÃ­nh riÃªng tÆ° trong Blockchain vÃ  cÃ¡i nhÃ¬n tá»•ng quan vá» zk-SNARK.</p>


        </div>
        
    </div>
  </body>
  <footer>
    
  </footer>
</html>  